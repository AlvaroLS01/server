Necesito que soluciones este error
?

                                        _                        _                       _    ____ ___   ____    ___  
   ___ ___  _ __ ___   ___ _ __ _______(_) __ _    ___ _   _ ___| |_ ___  _ __ ___      / \  |  _ \_ _| |___ \  / _ \ 
  / __/ _ \| '_ ` _ \ / _ \ '__|_  /_  / |/ _` |  / __| | | / __| __/ _ \| '_ ` _ \    / _ \ | |_) | |    __) || | | |
 | (_| (_) | | | | | |  __/ |   / / / /| | (_| | | (__| |_| \__ \ || (_) | | | | | |  / ___ \|  __/| |   / __/ | |_| |
  \___\___/|_| |_| |_|\___|_|  /___/___|_|\__,_|  \___|\__,_|___/\__\___/|_| |_| |_| /_/   \_\_|  |___| |_____(_)___/ 
                                                                                                                      
BANNER SOURCE: http://patorjk.com/software/taag/#p=display&f=Standard&t=comerzzia%20custom%20API%202.0

:: comerzzia ?  :: Running Spring Boot 2.1.4.RELEASE ::
:: http://www.comerzzia.com ::

2025-11-03 19:06:17.679  INFO 26200 --- [           main] c.c.b.a.o.api.BricodepotApplication      : Starting BricodepotApplication on PORT-ALS with PID 26200 (C:\Users\Tier1\Desktop\CLIENTES\server\target\classes started by ALS in C:\Users\Tier1\Desktop\CLIENTES\server)
2025-11-03 19:06:17.688 DEBUG 26200 --- [           main] c.c.b.a.o.api.BricodepotApplication      : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2025-11-03 19:06:17.689  INFO 26200 --- [           main] c.c.b.a.o.api.BricodepotApplication      : No active profile set, falling back to default profiles: default
2025-11-03 19:06:19.974  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.comerzzia.omnichannel.persistence]' package. Please check your configuration.
2025-11-03 19:06:20.054  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'permisoMapper' and 'com.comerzzia.core.persistencia.permisos.PermisoMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.055  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'menuMapper' and 'com.comerzzia.core.persistencia.menu.MenuMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.055  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'actividadMapper' and 'com.comerzzia.core.persistencia.actividades.ActividadMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.055  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'buzonMapper' and 'com.comerzzia.core.persistencia.buzones.BuzonMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.056  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'plantillaBuzonMapper' and 'com.comerzzia.core.persistencia.buzones.plantilla.PlantillaBuzonMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.056  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'canalBuzonMapper' and 'com.comerzzia.core.persistencia.buzones.canal.CanalBuzonMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.056  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'claseMapper' and 'com.comerzzia.core.persistencia.clases.ClaseMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.056  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'valorParametroClaseMapper' and 'com.comerzzia.core.persistencia.clases.parametros.valores.ValorParametroClaseMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.057  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'valorParametroObjetoMapper' and 'com.comerzzia.core.persistencia.clases.parametros.valoresobjetos.ValorParametroObjetoMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.057  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'parametroClaseMapper' and 'com.comerzzia.core.persistencia.clases.parametros.ParametroClaseMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.057  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'contadorMapper' and 'com.comerzzia.core.persistencia.contadores.ContadorMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.058  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'licenseMetricMapper' and 'com.comerzzia.core.persistencia.licensemetric.LicenseMetricMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.058  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tipoPasarelaMapper' and 'com.comerzzia.core.persistencia.pasarelas.tipos.TipoPasarelaMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.058  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'configuracionPasarelaMapper' and 'com.comerzzia.core.persistencia.pasarelas.configuraciones.ConfiguracionPasarelaMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.058  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'trabajoTipoTiendaMapper' and 'com.comerzzia.core.persistencia.tipostiendas.trabajos.TrabajoTipoTiendaMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.058  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tipoTiendaMapper' and 'com.comerzzia.core.persistencia.tipostiendas.TipoTiendaMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.058  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'configContadorRangoMapper' and 'com.comerzzia.core.persistencia.config.configContadores.rangos.ConfigContadorRangoMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.059  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'configContadorMapper' and 'com.comerzzia.core.persistencia.config.configContadores.ConfigContadorMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.059  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'configContadorParametroMapper' and 'com.comerzzia.core.persistencia.config.configContadores.parametros.ConfigContadorParametroMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.059  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'configVariableMapper' and 'com.comerzzia.core.persistencia.config.variables.ConfigVariableMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.059  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'usuariosSesionMapper' and 'com.comerzzia.core.persistencia.sesiones.UsuariosSesionMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.059  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'eventoMapper' and 'com.comerzzia.core.persistencia.eventos.EventoMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.059  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'versionInformeMapper' and 'com.comerzzia.core.persistencia.informes.VersionInformeMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.059  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tipoImpuestoMapper' and 'com.comerzzia.core.persistencia.impuestos.tiposimpuestos.TipoImpuestoMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.060  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'porcentajeImpuestoMapper' and 'com.comerzzia.core.persistencia.impuestos.porcentajes.PorcentajeImpuestoMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.060  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'grupoImpuestosMapper' and 'com.comerzzia.core.persistencia.impuestos.grupos.GrupoImpuestosMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.060  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tratamientoImpuestoMapper' and 'com.comerzzia.core.persistencia.impuestos.tratamientosimpuestos.TratamientoImpuestoMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.060  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'trabajoSincronizadorMapper' and 'com.comerzzia.core.persistencia.sincronizacion.TrabajoSincronizadorMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.061  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'datosSincronizacionMapper' and 'com.comerzzia.core.persistencia.sincronizacion.datos.DatosSincronizacionMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.061  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'sincronizacionDestinosMapper' and 'com.comerzzia.core.persistencia.sincronizacion.destinos.SincronizacionDestinosMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.061  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'documentoEnlaceMapper' and 'com.comerzzia.core.persistencia.documentos.enlaces.DocumentoEnlaceMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.061  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'accionMapper' and 'com.comerzzia.core.persistencia.acciones.AccionMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.062  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'operacionMapper' and 'com.comerzzia.core.persistencia.acciones.operaciones.OperacionMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.062  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'operacionEstadoMapper' and 'com.comerzzia.core.persistencia.acciones.estados.operaciones.OperacionEstadoMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.062  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'vistaAccionEstadoMapper' and 'com.comerzzia.core.persistencia.acciones.estados.vistas.VistaAccionEstadoMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.062  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'accionEstadoMapper' and 'com.comerzzia.core.persistencia.acciones.estados.AccionEstadoMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.062  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'estadoMapper' and 'com.comerzzia.core.persistencia.estados.EstadoMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.062  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'etiquetaMapper' and 'com.comerzzia.core.persistencia.etiquetas.EtiquetaMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.063  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'etiquetaCategoriaMapper' and 'com.comerzzia.core.persistencia.etiquetas.categorias.EtiquetaCategoriaMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.063  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'etiquetaEnlaceMapper' and 'com.comerzzia.core.persistencia.etiquetas.enlaces.EtiquetaEnlaceMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.063  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'instanciaMapper' and 'com.comerzzia.core.persistencia.instancias.InstanciaMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.063  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'variableMapper' and 'com.comerzzia.core.persistencia.variables.VariableMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.063  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'buzonMsgMapper' and 'com.comerzzia.core.persistencia.notificaciones.buzones.BuzonMsgMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.064  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'notificacionTipoContactoMapper' and 'com.comerzzia.core.persistencia.notificaciones.tipos.contactos.NotificacionTipoContactoMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.064  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'notificacionTipoEnlMapper' and 'com.comerzzia.core.persistencia.notificaciones.tipos.enl.NotificacionTipoEnlMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.064  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'notificacionTipoMapper' and 'com.comerzzia.core.persistencia.notificaciones.tipos.NotificacionTipoMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.064  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'buzonMsgCanalMapper' and 'com.comerzzia.core.persistencia.notificaciones.canales.BuzonMsgCanalMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.064  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'parametroMapper' and 'com.comerzzia.core.persistencia.notificaciones.parametros.ParametroMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.064  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'plantillaMapper' and 'com.comerzzia.core.persistencia.notificaciones.plantillas.PlantillaMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.064  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tipoDocumentoMapper' and 'com.comerzzia.core.persistencia.tiposdocumentos.TipoDocumentoMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.065  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tipoDocumentoPropMapper' and 'com.comerzzia.core.persistencia.tiposdocumentos.prop.TipoDocumentoPropMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.065  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'lenguajesMapper' and 'com.comerzzia.core.persistencia.lenguajes.LenguajesMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.065  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'configuracionMedioPagoMapper' and 'com.comerzzia.core.persistencia.mediospago.configuracion.ConfiguracionMedioPagoMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.065  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'almacenUsuarioMapper' and 'com.comerzzia.core.persistencia.usuarios.tiendas.AlmacenUsuarioMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.065  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'usuarioMapper' and 'com.comerzzia.core.persistencia.usuarios.UsuarioMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.066  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'perfilUsuarioMapper' and 'com.comerzzia.core.persistencia.usuarios.perfiles.PerfilUsuarioMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.066  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'empresaMapper' and 'com.comerzzia.core.persistencia.empresas.EmpresaMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.066  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'sitioMapper' and 'com.comerzzia.core.persistencia.sitios.SitioMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.066  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'perfilMapper' and 'com.comerzzia.core.persistencia.perfiles.PerfilMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.066  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'historicoEstadoMapper' and 'com.comerzzia.core.persistencia.historico.HistoricoEstadoMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.066  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'ticketMapper' and 'com.comerzzia.core.persistencia.ventas.tickets.TicketMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.066  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'parametroCanalMapper' and 'com.comerzzia.core.persistencia.canal.parametros.ParametroCanalMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.066  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'canalMapper' and 'com.comerzzia.core.persistencia.canal.CanalMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:20.066  WARN 26200 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'i18NMapper' and 'com.comerzzia.core.persistencia.i18n.I18NMapper' mapperInterface. Bean already defined with the same name!
2025-11-03 19:06:22.456  INFO 26200 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$53f25209] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-11-03 19:06:23.332  INFO 26200 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-11-03 19:06:23.778  INFO 26200 --- [           main] c.c.a.o.web.config.JerseyConfiguration   : JerseyConfiguration() - Configuring REST services...
2025-11-03 19:06:23.921  INFO 26200 --- [           main] com.comerzzia.core.util.config.AppInfo   : Construyendo AppInfo
2025-11-03 19:06:24.075  INFO 26200 --- [           main] c.c.core.util.config.ComerzziaApp        : . . . Initializing comerzzia null . . .
2025-11-03 19:06:24.075  INFO 26200 --- [           main] c.c.core.util.config.ComerzziaApp        : inicializarRutaTrabajo() - COMERZZIA_HOME establecida en directorio de usuario
2025-11-03 19:06:24.076  INFO 26200 --- [           main] c.c.core.util.config.ComerzziaApp        : setComerzziaHome() - Se ha establecido la ruta de trabajo en C:\Users\Tier1\.comerzzia\
2025-11-03 19:06:24.077  INFO 26200 --- [           main] c.c.core.util.config.ComerzziaApp        : obtenerUrlFicheroConfiguracion() - Obteniendo fichero de configuración desde la ruta de trabajo C:\Users\Tier1\.comerzzia\
2025-11-03 19:06:24.077  INFO 26200 --- [           main] c.c.core.util.config.ComerzziaApp        : Usando URL [/C:/Users/Tier1/.comerzzia/comerzzia.xml] para configuración de la aplicación
2025-11-03 19:06:24.101  INFO 26200 --- [           main] com.comerzzia.core.util.config.AppInfo   : ********************** OBTENIENDO SQLSESSIONFACTORY **********************
2025-11-03 19:06:24.119  INFO 26200 --- [           main] c.c.c.util.db.DefaultConnectionProvider  : Creating myBatis connection pool to [jdbc:mysql://172.16.102.35:33062/czz_bricodepot?serverTimezone=Europe/Madrid]
Loading class `com.mysql.jdbc.Driver'. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver'. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.
2025-11-03 19:06:26.664  INFO 26200 --- [           main] c.c.a.o.web.config.JerseyConfiguration   : registering com.comerzzia.bricodepot.api.omnichannel.api.web.rest.salesdoc.BricodepotSalesDocumentResource to jersey config
2025-11-03 19:06:26.735  INFO 26200 --- [           main] c.c.a.o.web.config.JerseyConfiguration   : registering com.comerzzia.api.omnichannel.web.rest.till.TillResource to jersey config
2025-11-03 19:06:26.736  INFO 26200 --- [           main] c.c.a.o.web.config.JerseyConfiguration   : registering com.comerzzia.api.omnichannel.web.rest.documents.DocumentResource to jersey config
2025-11-03 19:06:26.736  INFO 26200 --- [           main] c.c.a.o.web.config.JerseyConfiguration   : Skipping registration com.comerzzia.api.omnichannel.web.rest.salesdoc.SalesDocumentResource
2025-11-03 19:06:26.736  INFO 26200 --- [           main] c.c.a.o.web.config.JerseyConfiguration   : registering com.comerzzia.api.omnichannel.web.rest.basket.items.BasketItemsResource to jersey config
2025-11-03 19:06:26.738  INFO 26200 --- [           main] c.c.a.o.web.config.JerseyConfiguration   : registering com.comerzzia.api.omnichannel.web.rest.basket.BasketResource to jersey config
2025-11-03 19:06:26.738  INFO 26200 --- [           main] c.c.a.o.web.config.JerseyConfiguration   : registering com.comerzzia.api.omnichannel.web.rest.basket.pay.BasketPaymentsResource to jersey config
2025-11-03 19:06:26.739  INFO 26200 --- [           main] c.c.a.o.web.config.JerseyConfiguration   : registering com.comerzzia.api.commons.util.DateParameterConverterProvider to jersey config
2025-11-03 19:06:26.741  INFO 26200 --- [           main] c.c.a.o.web.config.JerseyConfiguration   : registering com.comerzzia.api.commons.config.JacksonConfigurator to jersey config
2025-11-03 19:06:26.744  INFO 26200 --- [           main] c.c.a.o.web.config.JerseyConfiguration   : registering com.comerzzia.api.commons.exception.JerseyApiExceptionMapper to jersey config
2025-11-03 19:06:26.746  INFO 26200 --- [           main] c.c.a.o.web.config.JerseyConfiguration   : registering com.comerzzia.api.commons.exception.JerseyValidationExceptionMapper to jersey config
2025-11-03 19:06:27.570  INFO 26200 --- [           main] .a.o.a.c.BricodepotInformesConfiguration : configureReportsBasePath() - Configured reports base path to 'C:\Users\Tier1\Desktop\CLIENTES\server\target\classes\informes\'
2025-11-03 19:06:27.572  INFO 26200 --- [           main] c.c.core.servicios.ContextHolder         : ********************** comerzzia Spring context info ****************************
2025-11-03 19:06:27.572  INFO 26200 --- [           main] c.c.core.servicios.ContextHolder         : 	 Id: comerzzia api v2 custom
2025-11-03 19:06:27.572  INFO 26200 --- [           main] c.c.core.servicios.ContextHolder         : 	 Application: /api/v2/omnichannel
2025-11-03 19:06:27.572  INFO 26200 --- [           main] c.c.core.servicios.ContextHolder         : 	 Name: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@42f3156d
2025-11-03 19:06:27.572  INFO 26200 --- [           main] c.c.core.servicios.ContextHolder         : *********************************************************************************
2025-11-03 19:06:27.574  INFO 26200 --- [           main] com.comerzzia.pos.util.config.AppConfig  : Construyendo AppConfig
2025-11-03 19:06:30.124  INFO 26200 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2025-11-03 19:06:30.528  INFO 26200 --- [           main] com.comerzzia.core.util.config.AppInfo   : ********************** OBTENIENDO DataSource **********************
2025-11-03 19:06:32.325  WARN 26200 --- [           main] c.c.a.c.security.jwt.TokenProvider       : Warning: the JWT key used is not Base64-encoded. We recommend using the `security.jwt.token.secret-key-base64` key for optimum security.
2025-11-03 19:06:32.878  INFO 26200 --- [           main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-11-03 19:06:32.910  INFO 26200 --- [           main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-11-03 19:06:32.910  INFO 26200 --- [           main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.3.1 created.
2025-11-03 19:06:32.912  INFO 26200 --- [           main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-11-03 19:06:32.914  INFO 26200 --- [           main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.3.1) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-11-03 19:06:32.914  INFO 26200 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-11-03 19:06:32.914  INFO 26200 --- [           main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.3.1
2025-11-03 19:06:32.914  INFO 26200 --- [           main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@751636da
2025-11-03 19:06:32.948  INFO 26200 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2025-11-03 19:06:32.965  INFO 26200 --- [           main] com.comerzzia.core.util.config.AppInfo   : ********************** OBTENIENDO DataSourceTransactionManager **********************
2025-11-03 19:06:33.670  INFO 26200 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2025-11-03 19:06:33.769  INFO 26200 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 16 endpoint(s) beneath base path '/manage'
2025-11-03 19:06:33.956  INFO 26200 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2025-11-03 19:06:33.969  INFO 26200 --- [           main] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-11-03 19:06:33.969  INFO 26200 --- [           main] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-11-03 19:06:33.996  INFO 26200 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/api/v2/omnichannel'
2025-11-03 19:06:33.997 DEBUG 26200 --- [   scheduling-1] c.c.a.o.web.cache.TerminalSessionCache   : clearSessionCache() - Clean session cache
2025-11-03 19:06:33.997  INFO 26200 --- [           main] c.c.b.a.o.api.BricodepotApplication      : Started BricodepotApplication in 17.567 seconds (JVM running for 21.24)
2025-11-03 19:06:53.158  WARN 26200 --- [nio-8080-exec-2] o.g.jersey.internal.inject.Providers     : A provider com.comerzzia.bricodepot.api.omnichannel.api.web.rest.salesdoc.BricodepotSalesDocumentResource registered in SERVER runtime does not implement any provider interfaces applicable in the SERVER runtime. Due to constraint configuration problems the provider com.comerzzia.bricodepot.api.omnichannel.api.web.rest.salesdoc.BricodepotSalesDocumentResource will be ignored. 
2025-11-03 19:06:53.229  INFO 26200 --- [nio-8080-exec-2] c.c.a.c.config.JerseyConfiguration       : Jackson Time zone changed to: Europe/Paris
2025-11-03 19:06:53.782 DEBUG 26200 --- [nio-8080-exec-1] c.c.a.c.s.jwt.JWTAuthenticationFilter    : Request is to process authentication
2025-11-03 19:06:54.018 DEBUG 26200 --- [nio-8080-exec-1] gAspect$$EnhancerBySpringCGLIB$$7806cedb : Enter: com.comerzzia.api.commons.usuarios.UserDetailsServiceImpl.loadUserByUsername() with argument[s] = [40f314f4-8a6e-4c38-82f6-a95a5c8dd0af, administrador, null, null]
2025-11-03 19:06:54.350  INFO 26200 --- [nio-8080-exec-1] c.c.c.s.caches.FlushIntervalCache        : initClearInterval() - Intervalo de limpieza configurado: 0
2025-11-03 19:06:54.552 DEBUG 26200 --- [nio-8080-exec-1] gAspect$$EnhancerBySpringCGLIB$$7806cedb : Exit: com.comerzzia.api.commons.usuarios.UserDetailsServiceImpl.loadUserByUsername() with result = com.comerzzia.api.commons.usuarios.ComerzziaUserDetails@d91f86bd: Username: administrador; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Not granted any authorities
2025-11-03 19:07:12.966 DEBUG 26200 --- [nio-8080-exec-3] .o.a.w.s.DocumentoVentaImpresionServicio : registrarInicioImpresion() - Starting print generation for document 'e24a8e0c-19ff-4276-9f9c-3d7ab6a08fd6'
2025-11-03 19:07:13.376 DEBUG 26200 --- [nio-8080-exec-3] c.c.a.c.config.ComerzziaApplication      : Generando datos de sesion para la actividad [40f314f4-8a6e-4c38-82f6-a95a5c8dd0af] usuario [administrador]
2025-11-03 19:07:13.459 DEBUG 26200 --- [nio-8080-exec-3] s.BricodepotSaleDocumentPrintServiceImpl : printDocument() - Generating sales document 'e24a8e0c-19ff-4276-9f9c-3d7ab6a08fd6' with mime type 'application/pdf'
2025-11-03 19:07:14.874 DEBUG 26200 --- [nio-8080-exec-3] a.o.a.s.d.BricodepotDocumentPrintService : getJasperPrint() - Generando documento con parametros: PrintDocumentDTO(mimeType=application/pdf, copy=false, screenOutput=false, printTemplate=ventas/facturas/facturaA4, inline=false, outputDocumentName=e24a8e0c-19ff-4276-9f9c-3d7ab6a08fd6, customParams={companyCode=0000, ticket=TicketVentaAbono(cabecera=CabeceraTicket(uidTicket=e24a8e0c-19ff-4276-9f9c-3d7ab6a08fd6, idTicket=118, codTicket=FT 2025900191/00000118, uidActividad=40f314f4-8a6e-4c38-82f6-a95a5c8dd0af, codCaja=91, uidDiarioCaja=bdbe687c-3d69-437e-92ae-4fa2ae309dfe, serieTicket=FT 2025900191, fecha=Thu Oct 09 13:58:21 CEST 2025, fechaContable=Thu Oct 09 00:00:00 CEST 2025, datosDocOrigen=null, tipoDocumento=2, codTipoDocumento=FT, desTipoDocumento=FACTURA COMPLETA, formatoImpresion=factura, uidTicketEnlace=null, cajero=UsuarioBean(usuario=ADMINISTRADOR, desusuario=ADMINISTRADOR), tienda=Tienda(codAlmacen=9001, cp=08019, desAlmacen=PILOTO TIER1 DES ESPAÑA, domicilio=Domcilio, idTratamientoImpuestos=50, poblacion=Población, provincia=null, telefono1=null, telefono2=null, fax=null), cliente=ClienteBean(codCliente=9001, desCliente=PILOTO TIER1 DES ESPAÑA, nombreComercial=null, domicilio=CliDomicilio, poblacion=CliPoblación, provincia=null, cp=08820, telefono1=null, telefono2=null, fax=null, codpais=ES, personaContacto=null, email=null, cif=9001, idTratImpuestos=50, codtar=null, codsec=null, banco=null, bancoDomicilio=null, bancoPoblacion=null, ccc=null, localidad=null, tipoIdentificacion=null, idGrupoImpuestos=3, datosFactura=DatosFactura(nombre=Alvaro, domicilio=Calle Tomareh, poblacion=Tomareh, provincia=Zeviya, localidad=, tipoIdentificacion=CIF, pais=ES, cp=41940, telefono=644676464, cif=30303030R, banco=, bancoDomicilio=, bancoPoblacion=, ccc=), properties=null), datosEnvio=null, empresa=EmpresaBean(codEmpresa=0000, desEmpresa=EURO DEPOT ESPAÑA S.A., domicilio=Carrer de la Selva, 10 Edif. Inblau, A 1º Planta, poblacion=, provincia=Barcelona, cp=08820, telefono1=, telefono2=, fax=, cif=A62018064, nombreComercial=EURO DEPOT ESPAÑA S.A., properties=null), subtotalesIva=[SubtotalIvaTicket(base=11.11, codImpuesto=1, cuota=2.56, cuotaRecargo=0.00, impuestos=2.56, porcentaje=23.000, porcentajeRecargo=0.000, total=13.67, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675)], totales=TotalesTicket(base=11.11, impuestos=2.56, total=13.67, totalAPagar=13.67, totalSinPromociones=13.67, totalPromociones=0.00, totalPromocionesCabecera=0.00, totalPromocionesLineas=0.00, entregado=13.67, entregadoACuenta=0, cambio=PagoTicket(codMedioPago=0000, paymentId=null, desMedioPago=EFECTIVO, paymentMethodId=null, importe=0.00, datosRespuestaPagoTarjeta=null, giftcards=null, extendedData={}, eliminable=false, introducidoPorCajero=false, movimientoCajaInsertado=false, creationDate=null, formatUtil=null), puntos=0, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675), datosFidelizado=null, tarjetaRegalo=null, firma=FirmaTicket(firma=qYiRumIissIRjwPJNBxs7MsshuBvgrehNpXD68/Aa1+pqhM7bNRiGzdgQRPpU2kCjiUWoKglc1d5VSIny17eC7NRILtJoZG4ZuA6sMVqGjFUJfYenpi+7gow6FS6TS+6PVUKukbhhDrsYHHznzdo283oFMtoE1Ayk5Q6owasylk=, hashControl=1), localizador=9001911760011101497, ticketsReferenciados=[], cantidadArticulos=1.000, configContadorRango=null, fiscalData=null, serviceData=null, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675), lineas=[LineaTicket(idLinea=1, codArticulo=0049074025656, desArticulo=CAJA< REST.FGO/AGUA49X41X35, unitMeasureCode=null, unitMeasureQuantity=null, cantidad=1.000, desglose1=*, desglose2=*, generico=false, vendedor=UsuarioBean(usuario=ADMINISTRADOR, desusuario=ADMINISTRADOR), editable=true, lineaDocumentoOrigen=null, codImpuesto=1, codtar=GENERAL, precioTarifaOrigen=11.1111, precioTotalTarifaOrigen=13.67, manualPrice=null, directPrice=null, precioPromocionSinDto=null, precioPromocionTotalSinDto=null, precioSinDto=11.1111, precioTotalSinDto=13.67, precioConDto=11.1138, precioTotalConDto=13.67, importeConDto=11.11, importeTotalConDto=13.67, descuento=0, descuentoManual=0, importeTotalPromociones=0.00, importeTotalPromocionesMenosIngreso=0.00, promociones=[], numerosSerie=null, codigoBarras=null, puntosADevolver=null, documentoOrigen=null, updateStock=true, extensions=null, articulo=LineaTicketArticulo(desArticulo=CAJA< REST.FGO/AGUA49X41X35, formato=null, codFamilia=13070202, codseccion=null, codCategorizacion=280702, codProveedor=null, referenciaProveedor=null, codFabricante=null, codImpuesto=1, observaciones=null, activo=true, numerosSerie=false, desglose1=false, desglose2=false, generico=false, escaparate=false, unidadMedidaAlternativa=null, codUmEtiqueta=null, cantidadUmEtiqueta=0.000, fechaAlta=Thu Jun 10 13:57:13 CEST 2021, codMarca=726, balanzaPlu=null, balanzaSeccion=null, balanzaTipoArticulo=U, idTipoSustitucion=0, etiquetas=[LineaTicketArticuloEtiqueta(uidEtiqueta=NO-PROMOCIONABLE, etiqueta=NO-PROMOCIONABLE), LineaTicketArticuloEtiqueta(uidEtiqueta=55408ac1-7885-4a47-984c-81ae16c98a42, etiqueta=55408ac1-7885-4a47-984c-81ae16c98a42)]), formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675, scanned=false, scanCodeType=null, weightRequired=false, creationDate=null)], pagos=[PagoTicket(codMedioPago=0000, paymentId=0, desMedioPago=EFECTIVO, paymentMethodId=null, importe=13.67, datosRespuestaPagoTarjeta=null, giftcards=null, extendedData={}, eliminable=true, introducidoPorCajero=true, movimientoCajaInsertado=false, creationDate=null, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675)], entregasCuenta=null, cuponesAplicados=[], promociones=[], cuponesEmitidos=[], cardPromotionTransactions=null, extensiones=null, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675), DEFAULT_TEMPLATE=FT, document=TicketVentaAbono(cabecera=CabeceraTicket(uidTicket=e24a8e0c-19ff-4276-9f9c-3d7ab6a08fd6, idTicket=118, codTicket=FT 2025900191/00000118, uidActividad=40f314f4-8a6e-4c38-82f6-a95a5c8dd0af, codCaja=91, uidDiarioCaja=bdbe687c-3d69-437e-92ae-4fa2ae309dfe, serieTicket=FT 2025900191, fecha=Thu Oct 09 13:58:21 CEST 2025, fechaContable=Thu Oct 09 00:00:00 CEST 2025, datosDocOrigen=null, tipoDocumento=2, codTipoDocumento=FT, desTipoDocumento=FACTURA COMPLETA, formatoImpresion=factura, uidTicketEnlace=null, cajero=UsuarioBean(usuario=ADMINISTRADOR, desusuario=ADMINISTRADOR), tienda=Tienda(codAlmacen=9001, cp=08019, desAlmacen=PILOTO TIER1 DES ESPAÑA, domicilio=Domcilio, idTratamientoImpuestos=50, poblacion=Población, provincia=null, telefono1=null, telefono2=null, fax=null), cliente=ClienteBean(codCliente=9001, desCliente=PILOTO TIER1 DES ESPAÑA, nombreComercial=null, domicilio=CliDomicilio, poblacion=CliPoblación, provincia=null, cp=08820, telefono1=null, telefono2=null, fax=null, codpais=ES, personaContacto=null, email=null, cif=9001, idTratImpuestos=50, codtar=null, codsec=null, banco=null, bancoDomicilio=null, bancoPoblacion=null, ccc=null, localidad=null, tipoIdentificacion=null, idGrupoImpuestos=3, datosFactura=DatosFactura(nombre=Alvaro, domicilio=Calle Tomareh, poblacion=Tomareh, provincia=Zeviya, localidad=, tipoIdentificacion=CIF, pais=ES, cp=41940, telefono=644676464, cif=30303030R, banco=, bancoDomicilio=, bancoPoblacion=, ccc=), properties=null), datosEnvio=null, empresa=EmpresaBean(codEmpresa=0000, desEmpresa=EURO DEPOT ESPAÑA S.A., domicilio=Carrer de la Selva, 10 Edif. Inblau, A 1º Planta, poblacion=, provincia=Barcelona, cp=08820, telefono1=, telefono2=, fax=, cif=A62018064, nombreComercial=EURO DEPOT ESPAÑA S.A., properties=null), subtotalesIva=[SubtotalIvaTicket(base=11.11, codImpuesto=1, cuota=2.56, cuotaRecargo=0.00, impuestos=2.56, porcentaje=23.000, porcentajeRecargo=0.000, total=13.67, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675)], totales=TotalesTicket(base=11.11, impuestos=2.56, total=13.67, totalAPagar=13.67, totalSinPromociones=13.67, totalPromociones=0.00, totalPromocionesCabecera=0.00, totalPromocionesLineas=0.00, entregado=13.67, entregadoACuenta=0, cambio=PagoTicket(codMedioPago=0000, paymentId=null, desMedioPago=EFECTIVO, paymentMethodId=null, importe=0.00, datosRespuestaPagoTarjeta=null, giftcards=null, extendedData={}, eliminable=false, introducidoPorCajero=false, movimientoCajaInsertado=false, creationDate=null, formatUtil=null), puntos=0, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675), datosFidelizado=null, tarjetaRegalo=null, firma=FirmaTicket(firma=qYiRumIissIRjwPJNBxs7MsshuBvgrehNpXD68/Aa1+pqhM7bNRiGzdgQRPpU2kCjiUWoKglc1d5VSIny17eC7NRILtJoZG4ZuA6sMVqGjFUJfYenpi+7gow6FS6TS+6PVUKukbhhDrsYHHznzdo283oFMtoE1Ayk5Q6owasylk=, hashControl=1), localizador=9001911760011101497, ticketsReferenciados=[], cantidadArticulos=1.000, configContadorRango=null, fiscalData=null, serviceData=null, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675), lineas=[LineaTicket(idLinea=1, codArticulo=0049074025656, desArticulo=CAJA< REST.FGO/AGUA49X41X35, unitMeasureCode=null, unitMeasureQuantity=null, cantidad=1.000, desglose1=*, desglose2=*, generico=false, vendedor=UsuarioBean(usuario=ADMINISTRADOR, desusuario=ADMINISTRADOR), editable=true, lineaDocumentoOrigen=null, codImpuesto=1, codtar=GENERAL, precioTarifaOrigen=11.1111, precioTotalTarifaOrigen=13.67, manualPrice=null, directPrice=null, precioPromocionSinDto=null, precioPromocionTotalSinDto=null, precioSinDto=11.1111, precioTotalSinDto=13.67, precioConDto=11.1138, precioTotalConDto=13.67, importeConDto=11.11, importeTotalConDto=13.67, descuento=0, descuentoManual=0, importeTotalPromociones=0.00, importeTotalPromocionesMenosIngreso=0.00, promociones=[], numerosSerie=null, codigoBarras=null, puntosADevolver=null, documentoOrigen=null, updateStock=true, extensions=null, articulo=LineaTicketArticulo(desArticulo=CAJA< REST.FGO/AGUA49X41X35, formato=null, codFamilia=13070202, codseccion=null, codCategorizacion=280702, codProveedor=null, referenciaProveedor=null, codFabricante=null, codImpuesto=1, observaciones=null, activo=true, numerosSerie=false, desglose1=false, desglose2=false, generico=false, escaparate=false, unidadMedidaAlternativa=null, codUmEtiqueta=null, cantidadUmEtiqueta=0.000, fechaAlta=Thu Jun 10 13:57:13 CEST 2021, codMarca=726, balanzaPlu=null, balanzaSeccion=null, balanzaTipoArticulo=U, idTipoSustitucion=0, etiquetas=[LineaTicketArticuloEtiqueta(uidEtiqueta=NO-PROMOCIONABLE, etiqueta=NO-PROMOCIONABLE), LineaTicketArticuloEtiqueta(uidEtiqueta=55408ac1-7885-4a47-984c-81ae16c98a42, etiqueta=55408ac1-7885-4a47-984c-81ae16c98a42)]), formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675, scanned=false, scanCodeType=null, weightRequired=false, creationDate=null)], pagos=[PagoTicket(codMedioPago=0000, paymentId=0, desMedioPago=EFECTIVO, paymentMethodId=null, importe=13.67, datosRespuestaPagoTarjeta=null, giftcards=null, extendedData={}, eliminable=true, introducidoPorCajero=true, movimientoCajaInsertado=false, creationDate=null, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675)], entregasCuenta=null, cuponesAplicados=[], promociones=[], cuponesEmitidos=[], cardPromotionTransactions=null, extensiones=null, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675), locale=es_ES})
2025-11-03 19:07:14.877 DEBUG 26200 --- [nio-8080-exec-3] a.o.a.s.d.BricodepotDocumentPrintService : generateDocParameters() - Generanting docucment parameters for: PrintDocumentDTO(mimeType=application/pdf, copy=false, screenOutput=false, printTemplate=ventas/facturas/facturaA4, inline=false, outputDocumentName=e24a8e0c-19ff-4276-9f9c-3d7ab6a08fd6, customParams={companyCode=0000, ticket=TicketVentaAbono(cabecera=CabeceraTicket(uidTicket=e24a8e0c-19ff-4276-9f9c-3d7ab6a08fd6, idTicket=118, codTicket=FT 2025900191/00000118, uidActividad=40f314f4-8a6e-4c38-82f6-a95a5c8dd0af, codCaja=91, uidDiarioCaja=bdbe687c-3d69-437e-92ae-4fa2ae309dfe, serieTicket=FT 2025900191, fecha=Thu Oct 09 13:58:21 CEST 2025, fechaContable=Thu Oct 09 00:00:00 CEST 2025, datosDocOrigen=null, tipoDocumento=2, codTipoDocumento=FT, desTipoDocumento=FACTURA COMPLETA, formatoImpresion=factura, uidTicketEnlace=null, cajero=UsuarioBean(usuario=ADMINISTRADOR, desusuario=ADMINISTRADOR), tienda=Tienda(codAlmacen=9001, cp=08019, desAlmacen=PILOTO TIER1 DES ESPAÑA, domicilio=Domcilio, idTratamientoImpuestos=50, poblacion=Población, provincia=null, telefono1=null, telefono2=null, fax=null), cliente=ClienteBean(codCliente=9001, desCliente=PILOTO TIER1 DES ESPAÑA, nombreComercial=null, domicilio=CliDomicilio, poblacion=CliPoblación, provincia=null, cp=08820, telefono1=null, telefono2=null, fax=null, codpais=ES, personaContacto=null, email=null, cif=9001, idTratImpuestos=50, codtar=null, codsec=null, banco=null, bancoDomicilio=null, bancoPoblacion=null, ccc=null, localidad=null, tipoIdentificacion=null, idGrupoImpuestos=3, datosFactura=DatosFactura(nombre=Alvaro, domicilio=Calle Tomareh, poblacion=Tomareh, provincia=Zeviya, localidad=, tipoIdentificacion=CIF, pais=ES, cp=41940, telefono=644676464, cif=30303030R, banco=, bancoDomicilio=, bancoPoblacion=, ccc=), properties=null), datosEnvio=null, empresa=EmpresaBean(codEmpresa=0000, desEmpresa=EURO DEPOT ESPAÑA S.A., domicilio=Carrer de la Selva, 10 Edif. Inblau, A 1º Planta, poblacion=, provincia=Barcelona, cp=08820, telefono1=, telefono2=, fax=, cif=A62018064, nombreComercial=EURO DEPOT ESPAÑA S.A., properties=null), subtotalesIva=[SubtotalIvaTicket(base=11.11, codImpuesto=1, cuota=2.56, cuotaRecargo=0.00, impuestos=2.56, porcentaje=23.000, porcentajeRecargo=0.000, total=13.67, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675)], totales=TotalesTicket(base=11.11, impuestos=2.56, total=13.67, totalAPagar=13.67, totalSinPromociones=13.67, totalPromociones=0.00, totalPromocionesCabecera=0.00, totalPromocionesLineas=0.00, entregado=13.67, entregadoACuenta=0, cambio=PagoTicket(codMedioPago=0000, paymentId=null, desMedioPago=EFECTIVO, paymentMethodId=null, importe=0.00, datosRespuestaPagoTarjeta=null, giftcards=null, extendedData={}, eliminable=false, introducidoPorCajero=false, movimientoCajaInsertado=false, creationDate=null, formatUtil=null), puntos=0, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675), datosFidelizado=null, tarjetaRegalo=null, firma=FirmaTicket(firma=qYiRumIissIRjwPJNBxs7MsshuBvgrehNpXD68/Aa1+pqhM7bNRiGzdgQRPpU2kCjiUWoKglc1d5VSIny17eC7NRILtJoZG4ZuA6sMVqGjFUJfYenpi+7gow6FS6TS+6PVUKukbhhDrsYHHznzdo283oFMtoE1Ayk5Q6owasylk=, hashControl=1), localizador=9001911760011101497, ticketsReferenciados=[], cantidadArticulos=1.000, configContadorRango=null, fiscalData=null, serviceData=null, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675), lineas=[LineaTicket(idLinea=1, codArticulo=0049074025656, desArticulo=CAJA< REST.FGO/AGUA49X41X35, unitMeasureCode=null, unitMeasureQuantity=null, cantidad=1.000, desglose1=*, desglose2=*, generico=false, vendedor=UsuarioBean(usuario=ADMINISTRADOR, desusuario=ADMINISTRADOR), editable=true, lineaDocumentoOrigen=null, codImpuesto=1, codtar=GENERAL, precioTarifaOrigen=11.1111, precioTotalTarifaOrigen=13.67, manualPrice=null, directPrice=null, precioPromocionSinDto=null, precioPromocionTotalSinDto=null, precioSinDto=11.1111, precioTotalSinDto=13.67, precioConDto=11.1138, precioTotalConDto=13.67, importeConDto=11.11, importeTotalConDto=13.67, descuento=0, descuentoManual=0, importeTotalPromociones=0.00, importeTotalPromocionesMenosIngreso=0.00, promociones=[], numerosSerie=null, codigoBarras=null, puntosADevolver=null, documentoOrigen=null, updateStock=true, extensions=null, articulo=LineaTicketArticulo(desArticulo=CAJA< REST.FGO/AGUA49X41X35, formato=null, codFamilia=13070202, codseccion=null, codCategorizacion=280702, codProveedor=null, referenciaProveedor=null, codFabricante=null, codImpuesto=1, observaciones=null, activo=true, numerosSerie=false, desglose1=false, desglose2=false, generico=false, escaparate=false, unidadMedidaAlternativa=null, codUmEtiqueta=null, cantidadUmEtiqueta=0.000, fechaAlta=Thu Jun 10 13:57:13 CEST 2021, codMarca=726, balanzaPlu=null, balanzaSeccion=null, balanzaTipoArticulo=U, idTipoSustitucion=0, etiquetas=[LineaTicketArticuloEtiqueta(uidEtiqueta=NO-PROMOCIONABLE, etiqueta=NO-PROMOCIONABLE), LineaTicketArticuloEtiqueta(uidEtiqueta=55408ac1-7885-4a47-984c-81ae16c98a42, etiqueta=55408ac1-7885-4a47-984c-81ae16c98a42)]), formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675, scanned=false, scanCodeType=null, weightRequired=false, creationDate=null)], pagos=[PagoTicket(codMedioPago=0000, paymentId=0, desMedioPago=EFECTIVO, paymentMethodId=null, importe=13.67, datosRespuestaPagoTarjeta=null, giftcards=null, extendedData={}, eliminable=true, introducidoPorCajero=true, movimientoCajaInsertado=false, creationDate=null, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675)], entregasCuenta=null, cuponesAplicados=[], promociones=[], cuponesEmitidos=[], cardPromotionTransactions=null, extensiones=null, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675), DEFAULT_TEMPLATE=FT, document=TicketVentaAbono(cabecera=CabeceraTicket(uidTicket=e24a8e0c-19ff-4276-9f9c-3d7ab6a08fd6, idTicket=118, codTicket=FT 2025900191/00000118, uidActividad=40f314f4-8a6e-4c38-82f6-a95a5c8dd0af, codCaja=91, uidDiarioCaja=bdbe687c-3d69-437e-92ae-4fa2ae309dfe, serieTicket=FT 2025900191, fecha=Thu Oct 09 13:58:21 CEST 2025, fechaContable=Thu Oct 09 00:00:00 CEST 2025, datosDocOrigen=null, tipoDocumento=2, codTipoDocumento=FT, desTipoDocumento=FACTURA COMPLETA, formatoImpresion=factura, uidTicketEnlace=null, cajero=UsuarioBean(usuario=ADMINISTRADOR, desusuario=ADMINISTRADOR), tienda=Tienda(codAlmacen=9001, cp=08019, desAlmacen=PILOTO TIER1 DES ESPAÑA, domicilio=Domcilio, idTratamientoImpuestos=50, poblacion=Población, provincia=null, telefono1=null, telefono2=null, fax=null), cliente=ClienteBean(codCliente=9001, desCliente=PILOTO TIER1 DES ESPAÑA, nombreComercial=null, domicilio=CliDomicilio, poblacion=CliPoblación, provincia=null, cp=08820, telefono1=null, telefono2=null, fax=null, codpais=ES, personaContacto=null, email=null, cif=9001, idTratImpuestos=50, codtar=null, codsec=null, banco=null, bancoDomicilio=null, bancoPoblacion=null, ccc=null, localidad=null, tipoIdentificacion=null, idGrupoImpuestos=3, datosFactura=DatosFactura(nombre=Alvaro, domicilio=Calle Tomareh, poblacion=Tomareh, provincia=Zeviya, localidad=, tipoIdentificacion=CIF, pais=ES, cp=41940, telefono=644676464, cif=30303030R, banco=, bancoDomicilio=, bancoPoblacion=, ccc=), properties=null), datosEnvio=null, empresa=EmpresaBean(codEmpresa=0000, desEmpresa=EURO DEPOT ESPAÑA S.A., domicilio=Carrer de la Selva, 10 Edif. Inblau, A 1º Planta, poblacion=, provincia=Barcelona, cp=08820, telefono1=, telefono2=, fax=, cif=A62018064, nombreComercial=EURO DEPOT ESPAÑA S.A., properties=null), subtotalesIva=[SubtotalIvaTicket(base=11.11, codImpuesto=1, cuota=2.56, cuotaRecargo=0.00, impuestos=2.56, porcentaje=23.000, porcentajeRecargo=0.000, total=13.67, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675)], totales=TotalesTicket(base=11.11, impuestos=2.56, total=13.67, totalAPagar=13.67, totalSinPromociones=13.67, totalPromociones=0.00, totalPromocionesCabecera=0.00, totalPromocionesLineas=0.00, entregado=13.67, entregadoACuenta=0, cambio=PagoTicket(codMedioPago=0000, paymentId=null, desMedioPago=EFECTIVO, paymentMethodId=null, importe=0.00, datosRespuestaPagoTarjeta=null, giftcards=null, extendedData={}, eliminable=false, introducidoPorCajero=false, movimientoCajaInsertado=false, creationDate=null, formatUtil=null), puntos=0, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675), datosFidelizado=null, tarjetaRegalo=null, firma=FirmaTicket(firma=qYiRumIissIRjwPJNBxs7MsshuBvgrehNpXD68/Aa1+pqhM7bNRiGzdgQRPpU2kCjiUWoKglc1d5VSIny17eC7NRILtJoZG4ZuA6sMVqGjFUJfYenpi+7gow6FS6TS+6PVUKukbhhDrsYHHznzdo283oFMtoE1Ayk5Q6owasylk=, hashControl=1), localizador=9001911760011101497, ticketsReferenciados=[], cantidadArticulos=1.000, configContadorRango=null, fiscalData=null, serviceData=null, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675), lineas=[LineaTicket(idLinea=1, codArticulo=0049074025656, desArticulo=CAJA< REST.FGO/AGUA49X41X35, unitMeasureCode=null, unitMeasureQuantity=null, cantidad=1.000, desglose1=*, desglose2=*, generico=false, vendedor=UsuarioBean(usuario=ADMINISTRADOR, desusuario=ADMINISTRADOR), editable=true, lineaDocumentoOrigen=null, codImpuesto=1, codtar=GENERAL, precioTarifaOrigen=11.1111, precioTotalTarifaOrigen=13.67, manualPrice=null, directPrice=null, precioPromocionSinDto=null, precioPromocionTotalSinDto=null, precioSinDto=11.1111, precioTotalSinDto=13.67, precioConDto=11.1138, precioTotalConDto=13.67, importeConDto=11.11, importeTotalConDto=13.67, descuento=0, descuentoManual=0, importeTotalPromociones=0.00, importeTotalPromocionesMenosIngreso=0.00, promociones=[], numerosSerie=null, codigoBarras=null, puntosADevolver=null, documentoOrigen=null, updateStock=true, extensions=null, articulo=LineaTicketArticulo(desArticulo=CAJA< REST.FGO/AGUA49X41X35, formato=null, codFamilia=13070202, codseccion=null, codCategorizacion=280702, codProveedor=null, referenciaProveedor=null, codFabricante=null, codImpuesto=1, observaciones=null, activo=true, numerosSerie=false, desglose1=false, desglose2=false, generico=false, escaparate=false, unidadMedidaAlternativa=null, codUmEtiqueta=null, cantidadUmEtiqueta=0.000, fechaAlta=Thu Jun 10 13:57:13 CEST 2021, codMarca=726, balanzaPlu=null, balanzaSeccion=null, balanzaTipoArticulo=U, idTipoSustitucion=0, etiquetas=[LineaTicketArticuloEtiqueta(uidEtiqueta=NO-PROMOCIONABLE, etiqueta=NO-PROMOCIONABLE), LineaTicketArticuloEtiqueta(uidEtiqueta=55408ac1-7885-4a47-984c-81ae16c98a42, etiqueta=55408ac1-7885-4a47-984c-81ae16c98a42)]), formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675, scanned=false, scanCodeType=null, weightRequired=false, creationDate=null)], pagos=[PagoTicket(codMedioPago=0000, paymentId=0, desMedioPago=EFECTIVO, paymentMethodId=null, importe=13.67, datosRespuestaPagoTarjeta=null, giftcards=null, extendedData={}, eliminable=true, introducidoPorCajero=true, movimientoCajaInsertado=false, creationDate=null, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675)], entregasCuenta=null, cuponesAplicados=[], promociones=[], cuponesEmitidos=[], cardPromotionTransactions=null, extensiones=null, formatUtil=com.comerzzia.omnichannel.model.documents.util.FormatUtil@52b37675), locale=es_ES})
2025-11-03 19:07:17.051  WARN 26200 --- [nio-8080-exec-3] a.o.a.s.d.BricodepotDocumentPrintService : Failed to compile Jasper template 'C:\Users\Tier1\Desktop\CLIENTES\server\target\classes\informes\ventas\facturas\facturaA4.jasper' from 'C:\Users\Tier1\Desktop\CLIENTES\server\target\classes\informes\ventas\facturas\facturaA4.jrxml'

net.sf.jasperreports.engine.JRException: Errors were encountered when compiling report expressions class file:
1. com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils cannot be resolved to a type
                value = com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils.formatDayMonthYear( //$JR_EXPR_ID=32$
                        <--------------------------------------------------------------------------------->
2. com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils cannot be resolved to a type
                value = com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils.formatDayMonthYear( //$JR_EXPR_ID=33$
                        <--------------------------------------------------------------------------------->
3. com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils cannot be resolved to a type
                value = com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils.formatDayMonthYear( //$JR_EXPR_ID=45$
                        <--------------------------------------------------------------------------------->
4. com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils cannot be resolved to a type
                value = com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils.formatDayMonthYear( //$JR_EXPR_ID=32$
                        <--------------------------------------------------------------------------------->
5. com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils cannot be resolved to a type
                value = com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils.formatDayMonthYear( //$JR_EXPR_ID=33$
                        <--------------------------------------------------------------------------------->
6. com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils cannot be resolved to a type
                value = com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils.formatDayMonthYear( //$JR_EXPR_ID=45$
                        <--------------------------------------------------------------------------------->
7. com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils cannot be resolved to a type
                value = com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils.formatDayMonthYear( //$JR_EXPR_ID=32$
                        <--------------------------------------------------------------------------------->
8. com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils cannot be resolved to a type
                value = com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils.formatDayMonthYear( //$JR_EXPR_ID=33$
                        <--------------------------------------------------------------------------------->
9. com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils cannot be resolved to a type
                value = com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.JasperDateUtils.formatDayMonthYear( //$JR_EXPR_ID=45$
                        <--------------------------------------------------------------------------------->
9 errors
.
	at net.sf.jasperreports.engine.design.JRAbstractCompiler.compileReport(JRAbstractCompiler.java:206)
	at net.sf.jasperreports.engine.JasperCompileManager.compile(JasperCompileManager.java:357)
	at net.sf.jasperreports.engine.JasperCompileManager.compileToFile(JasperCompileManager.java:273)
	at net.sf.jasperreports.engine.JasperCompileManager.compileToFile(JasperCompileManager.java:255)
	at net.sf.jasperreports.engine.JasperCompileManager.compileReportToFile(JasperCompileManager.java:554)
	at com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.BricodepotDocumentPrintService.compileTemplateIfNecessary(BricodepotDocumentPrintService.java:75)
	at com.comerzzia.bricodepot.api.omnichannel.api.services.documentprint.BricodepotDocumentPrintService.getTemplateLocaleFile(BricodepotDocumentPrintService.java:47)
	at com.comerzzia.omnichannel.service.documentprint.AbstractDocumentPrintService.getTemplate(AbstractDocumentPrintService.java:212)
	at com.comerzzia.omnichannel.service.documentprint.AbstractDocumentPrintService.generateDocParameters(AbstractDocumentPrintService.java:117)
	at com.comerzzia.omnichannel.service.documentprint.jasper.JasperPrintServiceImpl.getJasperPrint(JasperPrintServiceImpl.java:57)
	at com.comerzzia.omnichannel.service.documentprint.jasper.JasperPrintServiceImpl.getPdf(JasperPrintServiceImpl.java:34)
	at com.comerzzia.omnichannel.service.documentprint.DocumentPrintServiceImpl.printToStream(DocumentPrintServiceImpl.java:35)
	at com.comerzzia.omnichannel.service.salesdocument.converters.AbstractTicketVentaAbonoConverter.printDocument(AbstractTicketVentaAbonoConverter.java:130)
	at com.comerzzia.omnichannel.service.salesdocument.SaleDocumentServiceImpl.printDocument(SaleDocumentServiceImpl.java:115)
	at com.comerzzia.bricodepot.api.omnichannel.api.services.salesdocument.BricodepotSaleDocumentPrintServiceImpl.printDocument(BricodepotSaleDocumentPrintServiceImpl.java:76)
	at com.comerzzia.bricodepot.api.omnichannel.api.web.rest.salesdoc.BricodepotSalesDocumentResource.printSaleDocumentByUid(BricodepotSalesDocumentResource.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:316)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:298)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:268)
	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)
	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)
	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)
	at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)
	at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:370)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:389)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:342)
	at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:229)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.comerzzia.api.commons.security.jwt.JWTFilter.doFilter(JWTFilter.java:47)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.comerzzia.api.commons.security.apikey.ApiKeyFilter.doFilter(ApiKeyFilter.java:49)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)

2025-11-03 19:07:17.055 DEBUG 26200 --- [nio-8080-exec-3] a.o.a.s.d.BricodepotDocumentPrintService : getTemplate() - Using template: C:\Users\Tier1\Desktop\CLIENTES\server\target\classes\informes\ventas\facturas\facturaA4.jasper
2025-11-03 19:07:17.894 ERROR 26200 --- [nio-8080-exec-3] s.BricodepotSaleDocumentPrintServiceImpl : printDocument() - Error generating sales document 'e24a8e0c-19ff-4276-9f9c-3d7ab6a08fd6'

java.lang.RuntimeException: net.sf.jasperreports.engine.fill.JRExpressionEvalException: Error evaluating expression for source text: ($P{esDuplicado} != null && $P{esDuplicado} == true ? "DUPLICADO " : "") + $P{ticket}.getCabecera().getDesTipoDocumento()
	at com.comerzzia.omnichannel.service.documentprint.jasper.JasperPrintServiceImpl.getJasperPrint(JasperPrintServiceImpl.java:66)
	at com.comerzzia.omnichannel.service.documentprint.jasper.JasperPrintServiceImpl.getPdf(JasperPrintServiceImpl.java:34)
	at com.comerzzia.omnichannel.service.documentprint.DocumentPrintServiceImpl.printToStream(DocumentPrintServiceImpl.java:35)
	at com.comerzzia.omnichannel.service.salesdocument.converters.AbstractTicketVentaAbonoConverter.printDocument(AbstractTicketVentaAbonoConverter.java:130)
	at com.comerzzia.omnichannel.service.salesdocument.SaleDocumentServiceImpl.printDocument(SaleDocumentServiceImpl.java:115)
	at com.comerzzia.bricodepot.api.omnichannel.api.services.salesdocument.BricodepotSaleDocumentPrintServiceImpl.printDocument(BricodepotSaleDocumentPrintServiceImpl.java:76)
	at com.comerzzia.bricodepot.api.omnichannel.api.web.rest.salesdoc.BricodepotSalesDocumentResource.printSaleDocumentByUid(BricodepotSalesDocumentResource.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)
	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:200)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)
	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)
org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.comerzzia.api.commons.security.jwt.JWTFilter.doFilter(JWTFilter.java:47)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.comerzzia.api.commons.security.apikey.ApiKeyFilter.doFilter(ApiKeyFilter.java:49)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at java.lang.Thread.run(Thread.java:748)
Caused by: net.sf.jasperreports.engine.fill.JRExpressionEvalException: Error evaluating expression for source text: ($P{esDuplicado} != null && $P{esDuplicado} == true ? "DUPLICADO " : "") + $P{ticket}.getCabecera().getDesTipoDocumento()
	at net.sf.jasperreports.engine.fill.JREvaluator.handleEvaluationException(JREvaluator.java:287)
	at net.sf.jasperreports.engine.fill.JREvaluator.evaluate(JREvaluator.java:319)
com.comerzzia.omnichannel.service.documentprint.jasper.JasperPrintServiceImpl.getJasperPrint(JasperPrintServiceImpl.java:64)
	... 114 common frames omitted
Caused by: java.lang.ClassCastException: com.comerzzia.omnichannel.model.documents.sales.FT_1_1_Document cannot be cast to com.comerzzia.omnichannel.documentos.facturas.converters.albaran.ticket.TicketVentaAbono
	at facturaA4_1711104111648_649245.evaluate(facturaA4_1711104111648_649245:281)
	at net.sf.jasperreports.engine.fill.JREvaluator.evaluate(JREvaluator.java:305)
	... 131 common frames omitted

2025-11-03 19:07:17.918 ERROR 26200 --- [nio-8080-exec-3] c.c.a.c.e.JerseyApiExceptionMapper       : REST com.comerzzia.api.core.service.exception.ApiException api exception http result:500 error: 'Error interno: net.sf.jasperreports.engine.fill.JRExpressionEvalException: Error evaluating expression for source text: ($P{esDuplicado} != null && $P{esDuplicado} == true ? "DUPLICADO " : "") + $P{ticket}.getCabecera().getDesTipoDocumento(). Contacte con el administrador.'
2025-11-03 19:07:17.934 DEBUG 26200 --- [nio-8080-exec-3] .o.a.w.s.DocumentoVentaImpresionServicio : registrarFinImpresion() - Completed print generation for document 'e24a8e0c-19ff-4276-9f9c-3d7ab6a08fd6' with status 500 in 4968 ms

sin cambiar los jrxml, 

quiero que elimines practicamente todas las clases inutiles y que me rehagas el endpoint GET /salesdocument/{documentUid}/print, de forma que lo haga como el backoffice que tienes adjunatas todas y cada una de sus clases, mirar bien como lo hace este y replicarlo correctamente
09:47:37,971 DEBUG [com.comerzzia.core.servicios.permisos.ServicioPermisosImpl] (default task-12) obtenerPermisosEfectivos() - Obteniendo los permisos efectivos del usuario [0] para la accion [com.comerzzia.bricodepot.backoffice.web.facturas.BricodepotFacturasServlet]
09:47:37,971 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.consultarMaxPermisosAccionPerfilesUsuario] (default task-12) ==>  Preparing: SELECT ID_ACCION, ID_OPERACION, DESOPERACION, EJECUCION, MAX(ACCESO) ACCESO, ORDEN FROM D_ACCIONES_PERMISOS WHERE UID_INSTANCIA = ? AND UID_ACTIVIDAD = ? AND ID_ACCION = ? AND ID_PERFIL IN (SELECT ID_PERFIL FROM D_USUARIOS_PERFILES_TBL WHERE UID_INSTANCIA = ? AND ID_USUARIO = ?) GROUP BY ID_ACCION, ID_OPERACION, DESOPERACION, ORDEN, EJECUCION ORDER BY ORDEN 
09:47:37,972 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.consultarMaxPermisosAccionPerfilesUsuario] (default task-12) ==> Parameters: 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 1011(Long), 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 0(Long)
09:47:38,002 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.consultarMaxPermisosAccionPerfilesUsuario] (default task-12) <==      Total: 2
09:47:38,003 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.selectFromViewByExample] (default task-12) ==>  Preparing: select UID_INSTANCIA, ID_OPERACION, ID_USUARIO, ACCESO, UID_ACTIVIDAD, DESUSUARIO, DESPERFIL, ORDEN, ID_PERFIL, DESOPERACION, ID_ACCION, EJECUCION from D_ACCIONES_PERMISOS WHERE ( UID_ACTIVIDAD = ? and UID_INSTANCIA = ? and ID_ACCION = ? and ID_USUARIO = ? ) order by ORDEN 
09:47:38,003 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.selectFromViewByExample] (default task-12) ==> Parameters: 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 1011(Long), 0(Long)
09:47:38,035 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.selectFromViewByExample] (default task-12) <==      Total: 0
09:47:38,036 DEBUG [com.comerzzia.bricodepot.backoffice.services.facturas.BricodepotServicioFacturasImpl] (default task-12) consultarFacturas() - Consultando facturas
09:47:38,041 DEBUG [com.comerzzia.bricodepot.backoffice.persistence.facturas.BricodepotFacturasMapper.selectByExample] (default task-12) ==>  Preparing: select distinct A.uid_actividad, A.codalm, A.codcaja, A.usuario, A.fecha, A.id_tipo_documento, A.referencia_cliente, A.cif, A.descli, A.total,A.uid_ticket from d_clie_albaranes_cab_tbl A WHERE ( A.uid_actividad = ? and A.fecha >= ? and A.fecha <= ? ) order by FECHA DESC 
09:47:38,043 DEBUG [com.comerzzia.bricodepot.backoffice.persistence.facturas.BricodepotFacturasMapper.selectByExample] (default task-12) ==> Parameters: 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 2025-10-04 00:00:00.0(Timestamp), 2025-11-03 00:00:00.0(Timestamp)
09:47:38,205 DEBUG [com.comerzzia.bricodepot.backoffice.persistence.facturas.BricodepotFacturasMapper.selectByExample] (default task-12) <==      Total: 436
09:47:43,074 DEBUG [com.comerzzia.bricodepot.backoffice.web.facturas.BricodepotFacturasServlet] (default task-13) performTask() - accion=ventas.facturas.facturaA4
09:47:43,075 DEBUG [com.comerzzia.core.servicios.permisos.ServicioPermisosImpl] (default task-13) obtenerPermisosEfectivos() - Obteniendo los permisos efectivos del usuario [0] para la accion [com.comerzzia.bricodepot.backoffice.web.facturas.BricodepotFacturasServlet]
09:47:43,076 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.consultarMaxPermisosAccionPerfilesUsuario] (default task-13) ==>  Preparing: SELECT ID_ACCION, ID_OPERACION, DESOPERACION, EJECUCION, MAX(ACCESO) ACCESO, ORDEN FROM D_ACCIONES_PERMISOS WHERE UID_INSTANCIA = ? AND UID_ACTIVIDAD = ? AND ID_ACCION = ? AND ID_PERFIL IN (SELECT ID_PERFIL FROM D_USUARIOS_PERFILES_TBL WHERE UID_INSTANCIA = ? AND ID_USUARIO = ?) GROUP BY ID_ACCION, ID_OPERACION, DESOPERACION, ORDEN, EJECUCION ORDER BY ORDEN 
09:47:43,077 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.consultarMaxPermisosAccionPerfilesUsuario] (default task-13) ==> Parameters: 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 1011(Long), 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 0(Long)
09:47:43,105 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.consultarMaxPermisosAccionPerfilesUsuario] (default task-13) <==      Total: 2
09:47:43,107 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.selectFromViewByExample] (default task-13) ==>  Preparing: select UID_INSTANCIA, ID_OPERACION, ID_USUARIO, ACCESO, UID_ACTIVIDAD, DESUSUARIO, DESPERFIL, ORDEN, ID_PERFIL, DESOPERACION, ID_ACCION, EJECUCION from D_ACCIONES_PERMISOS WHERE ( UID_ACTIVIDAD = ? and UID_INSTANCIA = ? and ID_ACCION = ? and ID_USUARIO = ? ) order by ORDEN 
09:47:43,109 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.selectFromViewByExample] (default task-13) ==> Parameters: 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 1011(Long), 0(Long)
09:47:43,133 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.selectFromViewByExample] (default task-13) <==      Total: 0
09:47:43,133 DEBUG [com.comerzzia.core.servicios.permisos.ServicioPermisosImpl] (default task-13) obtenerPermisosEfectivos() - Obteniendo los permisos efectivos del usuario [0] para la accion [ventas.facturas.facturaA4]
09:47:43,139 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.consultarMaxPermisosAccionPerfilesUsuario] (default task-13) ==>  Preparing: SELECT ID_ACCION, ID_OPERACION, DESOPERACION, EJECUCION, MAX(ACCESO) ACCESO, ORDEN FROM D_ACCIONES_PERMISOS WHERE UID_INSTANCIA = ? AND UID_ACTIVIDAD = ? AND ID_ACCION = ? AND ID_PERFIL IN (SELECT ID_PERFIL FROM D_USUARIOS_PERFILES_TBL WHERE UID_INSTANCIA = ? AND ID_USUARIO = ?) GROUP BY ID_ACCION, ID_OPERACION, DESOPERACION, ORDEN, EJECUCION ORDER BY ORDEN 
09:47:43,139 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.consultarMaxPermisosAccionPerfilesUsuario] (default task-13) ==> Parameters: 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 60001(Long), 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 0(Long)
09:47:43,167 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.consultarMaxPermisosAccionPerfilesUsuario] (default task-13) <==      Total: 0
09:47:43,171 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.selectFromViewByExample] (default task-13) ==>  Preparing: select UID_INSTANCIA, ID_OPERACION, ID_USUARIO, ACCESO, UID_ACTIVIDAD, DESUSUARIO, DESPERFIL, ORDEN, ID_PERFIL, DESOPERACION, ID_ACCION, EJECUCION from D_ACCIONES_PERMISOS WHERE ( UID_ACTIVIDAD = ? and UID_INSTANCIA = ? and ID_ACCION = ? and ID_USUARIO = ? ) order by ORDEN 
09:47:43,171 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.selectFromViewByExample] (default task-13) ==> Parameters: 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 60001(Long), 0(Long)
09:47:43,203 DEBUG [com.comerzzia.core.persistencia.permisos.PermisoMapper.selectFromViewByExample] (default task-13) <==      Total: 0
09:47:43,203 DEBUG [com.comerzzia.core.servicios.informes.ServicioInformesImpl] (default task-13) consultando version por defecto del informe 60001
09:47:43,211 DEBUG [com.comerzzia.core.persistencia.informes.VersionInformeMapper.selectByExample] (default task-13) ==>  Preparing: select ID_ACCION, ID_VERSION, VERSION, DESCRIPCION, FORMATO_SALIDA, ACTIVO, TITULO, POR_DEFECTO from CONFIG_ACCIONES_INFORMES_TBL WHERE ( ID_ACCION = ? and POR_DEFECTO = ? ) 
09:47:43,211 DEBUG [com.comerzzia.core.persistencia.informes.VersionInformeMapper.selectByExample] (default task-13) ==> Parameters: 60001(Long), S(String)
09:47:43,243 DEBUG [com.comerzzia.core.persistencia.informes.VersionInformeMapper.selectByExample] (default task-13) <==      Total: 1
09:47:43,243 DEBUG [com.comerzzia.core.persistencia.informes.VersionInformeMapper.selectByPrimaryKey] (default task-13) ==>  Preparing: select ID_ACCION, ID_VERSION, VERSION, DESCRIPCION, FORMATO_SALIDA, ACTIVO, TITULO, POR_DEFECTO from CONFIG_ACCIONES_INFORMES_TBL where ID_ACCION = ? and ID_VERSION = ? 
09:47:43,243 DEBUG [com.comerzzia.core.persistencia.informes.VersionInformeMapper.selectByPrimaryKey] (default task-13) ==> Parameters: 60001(Long), 1(Long)
09:47:43,271 DEBUG [com.comerzzia.core.persistencia.informes.VersionInformeMapper.selectByPrimaryKey] (default task-13) <==      Total: 1
09:47:43,272 DEBUG [com.comerzzia.bricodepot.backoffice.web.facturas.acciones.ImprimirAccion] (default task-13) imprimirInforme() - Obteniendo ticket seleccionado con codigo: 
09:47:43,286 DEBUG [com.comerzzia.core.servicios.ventas.tickets.ServicioTicketsImpl] (default task-13) consultarTicketUid() - Consultando ticket con uid 107c7167-a915-497e-b914-1ce9d15540e9
09:47:43,347 DEBUG [com.comerzzia.core.persistencia.ventas.tickets.TicketMapper.selectFromViewByPrimaryKey] (default task-13) ==>  Preparing: select ID_TICKET, ID_TIPO_DOCUMENTO, CODEMP, DESTIPODOCUMENTO, CODCAJA, FIRMA, MENSAJE_PROCESO, CODALM, FECHA, UID_TICKET, CODTIPODOCUMENTO, FECHA_PROCESO, COD_TICKET, UID_ACTIVIDAD, PROCESADO, SERIE_TICKET, DESALM, ID_ACCION_ESTADOS, ID_ESTADO, LOCATOR_ID , TICKET from D_TICKETS where UID_ACTIVIDAD = ? and UID_TICKET = ? 
09:47:43,401 DEBUG [com.comerzzia.core.persistencia.ventas.tickets.TicketMapper.selectFromViewByPrimaryKey] (default task-13) ==> Parameters: 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 107c7167-a915-497e-b914-1ce9d15540e9(String)
09:47:43,465 DEBUG [com.comerzzia.core.persistencia.ventas.tickets.TicketMapper.selectFromViewByPrimaryKey] (default task-13) <==      Total: 1
09:47:43,465 DEBUG [com.comerzzia.bricodepot.backoffice.web.facturas.acciones.ImprimirAccion] (default task-13) imprimirInforme() - Parseando a XML el ticket
09:47:43,619 DEBUG [com.comerzzia.aena.util.xml.MarshallUtil] (default task-13) getMarshallContext() - Iniciado nuevo contexto de JAXB en 151ms
09:47:43,708 DEBUG [com.comerzzia.core.servicios.instancias.ServicioInstanciasImpl] (default task-13) consultarActividad() - Consultando actividad con UID: 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af
09:47:43,709 DEBUG [com.comerzzia.core.persistencia.actividades.ActividadMapper.selectByPrimaryKey] (default task-13) ==>  Preparing: select UID_ACTIVIDAD, UID_INSTANCIA, DESCRIPCION, FECHA_CREACION, ACTIVO from D_ACTIVIDADES_TBL where UID_ACTIVIDAD = ? 
09:47:43,734 DEBUG [com.comerzzia.core.persistencia.actividades.ActividadMapper.selectByPrimaryKey] (default task-13) ==> Parameters: 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String)
09:47:43,752 DEBUG [com.comerzzia.core.persistencia.actividades.ActividadMapper.selectByPrimaryKey] (default task-13) <==      Total: 1
09:47:43,752 DEBUG [com.comerzzia.bricodepot.backoffice.services.ventas.facturas.CargarFacturaA4ServicioImpl] (default task-13) generarMediosPago() - Generando medios de pago.
09:47:43,783 DEBUG [com.comerzzia.bricodepot.backoffice.persistence.pagos.mediospago.MediosPagosMapper.getMediosPago] (default task-13) ==>  Preparing: SELECT PAG.UID_ACTIVIDAD, PAG.IMPORTE AS IMPORTE_TOTAL, MEDPAG.CODMEDPAG, MEDPAG.DESMEDPAG FROM D_CLIE_ALBARANES_CAB_TBL CAB INNER JOIN D_CLIE_ALBARANES_PAG_TBL PAG ON (PAG.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND PAG.ID_CLIE_ALBARAN = CAB.ID_CLIE_ALBARAN) INNER JOIN D_MEDIOS_PAGO_VEN_TBL MEDPAGVEN ON (MEDPAGVEN.UID_ACTIVIDAD = PAG.UID_ACTIVIDAD AND MEDPAGVEN.ID_MEDPAG_VEN = PAG.ID_MEDPAG_VEN) INNER JOIN D_MEDIOS_PAGO_TBL MEDPAG ON (MEDPAG.UID_ACTIVIDAD = PAG.UID_ACTIVIDAD AND MEDPAG.CODMEDPAG = MEDPAGVEN.CODMEDPAG) WHERE CAB.UID_ACTIVIDAD = ? AND CAB.UID_TICKET = ? ORDER BY MEDPAG.CODMEDPAG; 
09:47:43,784 DEBUG [com.comerzzia.bricodepot.backoffice.persistence.pagos.mediospago.MediosPagosMapper.getMediosPago] (default task-13) ==> Parameters: 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 107c7167-a915-497e-b914-1ce9d15540e9(String)
09:47:43,818 DEBUG [com.comerzzia.bricodepot.backoffice.persistence.pagos.mediospago.MediosPagosMapper.getMediosPago] (default task-13) <==      Total: 1
09:47:43,819 DEBUG [com.comerzzia.bricodepot.backoffice.services.ventas.facturas.CargarFacturaA4ServicioImpl] (default task-13) cargarPromociones() - Recogiendo datos de las promociones...
09:47:43,822 DEBUG [com.comerzzia.bricodepot.backoffice.services.ventas.facturas.CargarFacturaA4ServicioImpl] (default task-13) cargarDatosPagoTarjeta() - Revisando si se ha pagado con tarjeta.
09:47:43,840 DEBUG [com.comerzzia.core.servicios.tipodocumento.ServicioTiposDocumentosImpl] (default task-13) consultar() - Consultando datos del tipo de documento: 2
09:47:43,871 DEBUG [com.comerzzia.core.persistencia.tiposdocumentos.TipoDocumentoMapper] (default task-13) Cache Hit Ratio [com.comerzzia.core.persistencia.tiposdocumentos.TipoDocumentoMapper]: 0.0
09:47:43,871 DEBUG [com.comerzzia.core.persistencia.tiposdocumentos.TipoDocumentoMapper.selectFromJoinConceptosByPrimaryKey] (default task-13) ==>  Preparing: SELECT DOCUMENTOS.UID_ACTIVIDAD, DOCUMENTOS.ID_TIPO_DOCUMENTO, DOCUMENTOS.DESTIPODOCUMENTO, DOCUMENTOS.ID_CONTADOR, CONTADORES.DESCRIPCION, DOCUMENTOS.CODTIPODOCUMENTO, DOCUMENTOS.CODPAIS, PAISES.DESPAIS, DOCUMENTOS.CLASE_PROCESAMIENTO, DOCUMENTOS.CLASE_PROCESAMIENTO_REMOTO, DOCUMENTOS.CODAPLICACION, DOCUMENTOS.CODCONALM, ALMACENES.DESCONALM, DOCUMENTOS.AMBITO_APLICACION, DOCUMENTOS.ID_ACCION_ESTADOS, DOCUMENTOS.ID_ESTADO_ALTA, ALMACENES.SIGNO AS SIGNO_CONCEPTO FROM D_TIPOS_DOCUMENTOS_TBL DOCUMENTOS INNER JOIN D_ACTIVIDADES_TBL ACT ON (ACT.UID_ACTIVIDAD = DOCUMENTOS.UID_ACTIVIDAD) LEFT JOIN D_PAISES_TBL PAISES ON (PAISES.UID_INSTANCIA = ACT.UID_INSTANCIA AND PAISES.CODPAIS = DOCUMENTOS.CODPAIS) LEFT JOIN D_ALMACENES_CONCEPTOS_TBL ALMACENES ON (ALMACENES.UID_ACTIVIDAD = DOCUMENTOS.UID_ACTIVIDAD AND ALMACENES.CODCONALM = DOCUMENTOS.CODCONALM AND ALMACENES.CODAPLICACION = DOCUMENTOS.CODAPLICACION) LEFT JOIN CONFIG_CONTADORES_TBL CONTADORES ON (CONTADORES.ID_CONTADOR = DOCUMENTOS.ID_CONTADOR) where DOCUMENTOS.UID_ACTIVIDAD = ? and DOCUMENTOS.ID_TIPO_DOCUMENTO = ? 
09:47:43,954 DEBUG [com.comerzzia.core.persistencia.tiposdocumentos.TipoDocumentoMapper.selectFromJoinConceptosByPrimaryKey] (default task-13) ==> Parameters: 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 2(Long)
09:47:44,059 DEBUG [com.comerzzia.core.persistencia.tiposdocumentos.TipoDocumentoMapper.selectFromJoinConceptosByPrimaryKey] (default task-13) <==      Total: 1
09:47:44,060 DEBUG [com.comerzzia.bricodepot.backoffice.web.facturas.acciones.ImprimirAccion] (default task-13) getNumPedido() - total <pago>= 1
09:47:44,090 DEBUG [com.comerzzia.bricodepot.backoffice.web.facturas.acciones.ImprimirAccion] (default task-13) getNumPedido() - pago[0] extendedData=<extendedData/>
09:47:44,090 DEBUG [com.comerzzia.bricodepot.backoffice.web.facturas.acciones.ImprimirAccion] (default task-13) getNumPedido() - No se encontró el nodo 'documento' dentro de 'extendedData'
09:47:44,090 DEBUG [com.comerzzia.bricodepot.backoffice.web.facturas.acciones.ImprimirAccion] (default task-13) getNumPedido() - No se encontró ningún nodo 'documento' en los nodos 'pago'
09:47:44,090 DEBUG [com.comerzzia.bricodepot.backoffice.services.ventas.facturas.CargarFacturaA4ServicioImpl] (default task-13) getSubReportDir() - Devolviendo dirección del SubReport.
09:47:44,092 DEBUG [com.comerzzia.bricodepot.backoffice.web.facturas.acciones.ImprimirAccion] (default task-13) tratarTicketPorPais() - Tratando el informe segun el pais del tipo de documento
09:47:44,093 DEBUG [com.comerzzia.core.servicios.tipodocumento.ServicioTiposDocumentosImpl] (default task-13) consultar() - Consultando datos del tipo de documento: 2
09:47:44,093 DEBUG [com.comerzzia.core.persistencia.tiposdocumentos.TipoDocumentoMapper] (default task-13) Cache Hit Ratio [com.comerzzia.core.persistencia.tiposdocumentos.TipoDocumentoMapper]: 0.0
09:47:44,093 DEBUG [com.comerzzia.core.persistencia.tiposdocumentos.TipoDocumentoMapper.selectFromJoinConceptosByPrimaryKey] (default task-13) ==>  Preparing: SELECT DOCUMENTOS.UID_ACTIVIDAD, DOCUMENTOS.ID_TIPO_DOCUMENTO, DOCUMENTOS.DESTIPODOCUMENTO, DOCUMENTOS.ID_CONTADOR, CONTADORES.DESCRIPCION, DOCUMENTOS.CODTIPODOCUMENTO, DOCUMENTOS.CODPAIS, PAISES.DESPAIS, DOCUMENTOS.CLASE_PROCESAMIENTO, DOCUMENTOS.CLASE_PROCESAMIENTO_REMOTO, DOCUMENTOS.CODAPLICACION, DOCUMENTOS.CODCONALM, ALMACENES.DESCONALM, DOCUMENTOS.AMBITO_APLICACION, DOCUMENTOS.ID_ACCION_ESTADOS, DOCUMENTOS.ID_ESTADO_ALTA, ALMACENES.SIGNO AS SIGNO_CONCEPTO FROM D_TIPOS_DOCUMENTOS_TBL DOCUMENTOS INNER JOIN D_ACTIVIDADES_TBL ACT ON (ACT.UID_ACTIVIDAD = DOCUMENTOS.UID_ACTIVIDAD) LEFT JOIN D_PAISES_TBL PAISES ON (PAISES.UID_INSTANCIA = ACT.UID_INSTANCIA AND PAISES.CODPAIS = DOCUMENTOS.CODPAIS) LEFT JOIN D_ALMACENES_CONCEPTOS_TBL ALMACENES ON (ALMACENES.UID_ACTIVIDAD = DOCUMENTOS.UID_ACTIVIDAD AND ALMACENES.CODCONALM = DOCUMENTOS.CODCONALM AND ALMACENES.CODAPLICACION = DOCUMENTOS.CODAPLICACION) LEFT JOIN CONFIG_CONTADORES_TBL CONTADORES ON (CONTADORES.ID_CONTADOR = DOCUMENTOS.ID_CONTADOR) where DOCUMENTOS.UID_ACTIVIDAD = ? and DOCUMENTOS.ID_TIPO_DOCUMENTO = ? 
09:47:44,093 DEBUG [com.comerzzia.core.persistencia.tiposdocumentos.TipoDocumentoMapper.selectFromJoinConceptosByPrimaryKey] (default task-13) ==> Parameters: 40f314f4-8a6e-4c38-82f6-a95a5c8dd0af(String), 2(Long)
09:47:44,185 DEBUG [com.comerzzia.core.persistencia.tiposdocumentos.TipoDocumentoMapper.selectFromJoinConceptosByPrimaryKey] (default task-13) <==      Total: 1
09:47:44,185 DEBUG [com.comerzzia.bricodepot.backoffice.web.facturas.acciones.ImprimirAccion] (default task-13) imprimirInforme() - Obteniendo version del informe.
09:47:44,185 DEBUG [com.comerzzia.core.servicios.informes.ServicioInformesImpl] (default task-13) consultarVersionInforme() - Consultando versión 1 del informe 60001
09:47:44,185 DEBUG [com.comerzzia.core.persistencia.informes.VersionInformeMapper.selectByPrimaryKey] (default task-13) ==>  Preparing: select ID_ACCION, ID_VERSION, VERSION, DESCRIPCION, FORMATO_SALIDA, ACTIVO, TITULO, POR_DEFECTO from CONFIG_ACCIONES_INFORMES_TBL where ID_ACCION = ? and ID_VERSION = ? 
09:47:44,254 DEBUG [com.comerzzia.core.persistencia.informes.VersionInformeMapper.selectByPrimaryKey] (default task-13) ==> Parameters: 60001(Long), 1(Long)
09:47:44,291 DEBUG [com.comerzzia.core.persistencia.informes.VersionInformeMapper.selectByPrimaryKey] (default task-13) <==      Total: 1
09:47:44,292 DEBUG [com.comerzzia.web.core.informes.InformesServlet] (default task-13) Abriendo informe: C:\Users\Tier1\Desktop\CLIENTES\Brico\backoffice\comerzzia-custom-backoffice-resources\src\main\resources\informes\ventas/facturas/facturaA4_Original.jasper
09:47:44,473 DEBUG [com.comerzzia.web.core.informes.InformesServlet] (default task-13) Abriendo conexión para ejecutar informe con: java:/jdbc/COMERZZIA_DS



aqui en el backoffice lo hace bien y necesito que haga exactamente igual como en este la impresion de pdf ya que este como ves en el log lo hace todo bien. Necesito que rehagas todo practicamente y solo dejes lo que realmente se usa. comprueba que funciona y que no salen errores como el que te he pasado. analizalo todo de manera exhaustiva y replicalo pero en la api, esta mas o menos hecho pero quiero que lo elimines todo y lo hagas de nuevo ya que no esta bien del todo. Re haz el codigo entero solo dejando las cosas que necesites y fijandote siempre en el log y en el backoffice