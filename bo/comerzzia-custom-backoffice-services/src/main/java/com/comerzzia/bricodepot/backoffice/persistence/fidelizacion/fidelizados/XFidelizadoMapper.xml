<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.comerzzia.bricodepot.backoffice.persistence.fidelizacion.fidelizados.XFidelizadoMapper">
  <resultMap id="BaseResultMap" type="com.comerzzia.bricodepot.backoffice.persistence.fidelizacion.fidelizados.XFidelizado">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 20 15:19:47 CEST 2023.
    -->
    <id column="uid_instancia" jdbcType="VARCHAR" property="uidInstancia" />
    <id column="id_fidelizado" jdbcType="BIGINT" property="idFidelizado" />
    <result column="nombre" jdbcType="VARCHAR" property="nombre" />
    <result column="apellidos" jdbcType="VARCHAR" property="apellidos" />
    <result column="domicilio" jdbcType="VARCHAR" property="domicilio" />
    <result column="poblacion" jdbcType="VARCHAR" property="poblacion" />
    <result column="localidad" jdbcType="VARCHAR" property="localidad" />
    <result column="provincia" jdbcType="VARCHAR" property="provincia" />
    <result column="cp" jdbcType="VARCHAR" property="cp" />
    <result column="codpais" jdbcType="VARCHAR" property="codpais" />
    <result column="codtipoiden" jdbcType="VARCHAR" property="codtipoiden" />
    <result column="documento" jdbcType="VARCHAR" property="documento" />
    <result column="observaciones" jdbcType="VARCHAR" property="observaciones" />
    <result column="fecha_nacimiento" jdbcType="TIMESTAMP" property="fechaNacimiento" />
    <result column="sexo" jdbcType="CHAR" property="sexo" />
    <result column="codestcivil" jdbcType="CHAR" property="codestcivil" />
    <result column="activo" jdbcType="CHAR" property="activo" />
    <result column="fecha_alta" jdbcType="TIMESTAMP" property="fechaAlta" />
    <result column="fecha_modificacion" jdbcType="TIMESTAMP" property="fechaModificacion" />
    <result column="fecha_baja" jdbcType="TIMESTAMP" property="fechaBaja" />
    <result column="codfidelizado" jdbcType="VARCHAR" property="codfidelizado" />
    <result column="codlengua" jdbcType="VARCHAR" property="codlengua" />
    <result column="paper_less" jdbcType="CHAR" property="paperLess" />
  </resultMap>
  <resultMap id="TarjetaResultMap" type="com.comerzzia.model.fidelizacion.fidelizados.FidelizadoBean" >
    <id column="UID_INSTANCIA" property="uidInstancia" jdbcType="VARCHAR" />
    <id column="ID_FIDELIZADO" property="idFidelizado" jdbcType="DECIMAL" />
    <result column="NOMBRE" property="nombre" jdbcType="VARCHAR" />
    <result column="APELLIDOS" property="apellidos" jdbcType="VARCHAR" />
    <result column="DOMICILIO" property="domicilio" jdbcType="VARCHAR" />
    <result column="POBLACION" property="poblacion" jdbcType="VARCHAR" />
    <result column="LOCALIDAD" property="localidad" jdbcType="VARCHAR" />
    <result column="PROVINCIA" property="provincia" jdbcType="VARCHAR" />
    <result column="CP" property="cp" jdbcType="VARCHAR" />
    <result column="CODPAIS" property="codPais" jdbcType="VARCHAR" />
    <result column="CODTIPOIDEN" property="codTipoIden" jdbcType="VARCHAR" />
    <result column="DOCUMENTO" property="documento" jdbcType="VARCHAR" />
    <result column="OBSERVACIONES" property="observaciones" jdbcType="VARCHAR" />
    <result column="FECHA_NACIMIENTO" property="fechaNacimiento" jdbcType="TIMESTAMP" />
    <result column="SEXO" property="sexo" jdbcType="CHAR" />
    <result column="CODESTCIVIL" property="codEstCivil" jdbcType="CHAR" />
    <result column="ACTIVO" property="activo" jdbcType="VARCHAR" typeHandler="com.comerzzia.core.util.mybatis.typehandlers.BooleanStringTypeHandler" />
    <result column="FECHA_ALTA" property="fechaAlta" jdbcType="TIMESTAMP" />
    <result column="FECHA_MODIFICACION" property="fechaModificacion" jdbcType="TIMESTAMP" />
    <result column="FECHA_BAJA" property="fechaBaja" jdbcType="TIMESTAMP" />
    <result column="CODFIDELIZADO" property="codFidelizado" jdbcType="VARCHAR" />
    <result column="DESPAIS" property="desPais" jdbcType="VARCHAR" />
    <result column="NUMERO_TARJETA" property="numeroTarjeta" jdbcType="VARCHAR" />
    <result column="CODLENGUA" property="codlengua" jdbcType="VARCHAR" />
    <result column="PAPER_LESS" property="paperLess" jdbcType="VARCHAR" typeHandler="com.comerzzia.core.util.mybatis.typehandlers.BooleanStringTypeHandler" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 20 15:19:47 CEST 2023.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 20 15:19:47 CEST 2023.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 20 15:19:47 CEST 2023.
    -->
    uid_instancia, id_fidelizado, nombre, apellidos, domicilio, poblacion, localidad, 
    provincia, cp, codpais, codtipoiden, documento, observaciones, fecha_nacimiento, 
    sexo, codestcivil, activo, fecha_alta, fecha_modificacion, fecha_baja, codfidelizado, 
    codlengua, paper_less
  </sql>
  <select id="selectByExample" parameterType="com.comerzzia.bricodepot.backoffice.persistence.fidelizacion.fidelizados.XFidelizadoExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 20 15:19:47 CEST 2023.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from f_fidelizados_tbl
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="com.comerzzia.bricodepot.backoffice.persistence.fidelizacion.fidelizados.XFidelizadoKey" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 20 15:19:47 CEST 2023.
    -->
    select 
    <include refid="Base_Column_List" />
    from f_fidelizados_tbl
    where uid_instancia = #{uidInstancia,jdbcType=VARCHAR}
      and id_fidelizado = #{idFidelizado,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="com.comerzzia.bricodepot.backoffice.persistence.fidelizacion.fidelizados.XFidelizadoKey">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 20 15:19:47 CEST 2023.
    -->
    delete from f_fidelizados_tbl
    where uid_instancia = #{uidInstancia,jdbcType=VARCHAR}
      and id_fidelizado = #{idFidelizado,jdbcType=BIGINT}
  </delete>
  <delete id="deleteByExample" parameterType="com.comerzzia.bricodepot.backoffice.persistence.fidelizacion.fidelizados.XFidelizadoExample">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 20 15:19:47 CEST 2023.
    -->
    delete from f_fidelizados_tbl
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.comerzzia.bricodepot.backoffice.persistence.fidelizacion.fidelizados.XFidelizado">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 20 15:19:47 CEST 2023.
    -->
    insert into f_fidelizados_tbl (uid_instancia, id_fidelizado, nombre, 
      apellidos, domicilio, poblacion, 
      localidad, provincia, cp, 
      codpais, codtipoiden, documento, 
      observaciones, fecha_nacimiento, sexo, 
      codestcivil, activo, fecha_alta, 
      fecha_modificacion, fecha_baja, codfidelizado, 
      codlengua, paper_less)
    values (#{uidInstancia,jdbcType=VARCHAR}, #{idFidelizado,jdbcType=BIGINT}, #{nombre,jdbcType=VARCHAR}, 
      #{apellidos,jdbcType=VARCHAR}, #{domicilio,jdbcType=VARCHAR}, #{poblacion,jdbcType=VARCHAR}, 
      #{localidad,jdbcType=VARCHAR}, #{provincia,jdbcType=VARCHAR}, #{cp,jdbcType=VARCHAR}, 
      #{codpais,jdbcType=VARCHAR}, #{codtipoiden,jdbcType=VARCHAR}, #{documento,jdbcType=VARCHAR}, 
      #{observaciones,jdbcType=VARCHAR}, #{fechaNacimiento,jdbcType=TIMESTAMP}, #{sexo,jdbcType=CHAR}, 
      #{codestcivil,jdbcType=CHAR}, #{activo,jdbcType=CHAR}, #{fechaAlta,jdbcType=TIMESTAMP}, 
      #{fechaModificacion,jdbcType=TIMESTAMP}, #{fechaBaja,jdbcType=TIMESTAMP}, #{codfidelizado,jdbcType=VARCHAR}, 
      #{codlengua,jdbcType=VARCHAR}, #{paperLess,jdbcType=CHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.comerzzia.bricodepot.backoffice.persistence.fidelizacion.fidelizados.XFidelizado">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 20 15:19:47 CEST 2023.
    -->
    insert into f_fidelizados_tbl
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="uidInstancia != null">
        uid_instancia,
      </if>
      <if test="idFidelizado != null">
        id_fidelizado,
      </if>
      <if test="nombre != null">
        nombre,
      </if>
      <if test="apellidos != null">
        apellidos,
      </if>
      <if test="domicilio != null">
        domicilio,
      </if>
      <if test="poblacion != null">
        poblacion,
      </if>
      <if test="localidad != null">
        localidad,
      </if>
      <if test="provincia != null">
        provincia,
      </if>
      <if test="cp != null">
        cp,
      </if>
      <if test="codpais != null">
        codpais,
      </if>
      <if test="codtipoiden != null">
        codtipoiden,
      </if>
      <if test="documento != null">
        documento,
      </if>
      <if test="observaciones != null">
        observaciones,
      </if>
      <if test="fechaNacimiento != null">
        fecha_nacimiento,
      </if>
      <if test="sexo != null">
        sexo,
      </if>
      <if test="codestcivil != null">
        codestcivil,
      </if>
      <if test="activo != null">
        activo,
      </if>
      <if test="fechaAlta != null">
        fecha_alta,
      </if>
      <if test="fechaModificacion != null">
        fecha_modificacion,
      </if>
      <if test="fechaBaja != null">
        fecha_baja,
      </if>
      <if test="codfidelizado != null">
        codfidelizado,
      </if>
      <if test="codlengua != null">
        codlengua,
      </if>
      <if test="paperLess != null">
        paper_less,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="uidInstancia != null">
        #{uidInstancia,jdbcType=VARCHAR},
      </if>
      <if test="idFidelizado != null">
        #{idFidelizado,jdbcType=BIGINT},
      </if>
      <if test="nombre != null">
        #{nombre,jdbcType=VARCHAR},
      </if>
      <if test="apellidos != null">
        #{apellidos,jdbcType=VARCHAR},
      </if>
      <if test="domicilio != null">
        #{domicilio,jdbcType=VARCHAR},
      </if>
      <if test="poblacion != null">
        #{poblacion,jdbcType=VARCHAR},
      </if>
      <if test="localidad != null">
        #{localidad,jdbcType=VARCHAR},
      </if>
      <if test="provincia != null">
        #{provincia,jdbcType=VARCHAR},
      </if>
      <if test="cp != null">
        #{cp,jdbcType=VARCHAR},
      </if>
      <if test="codpais != null">
        #{codpais,jdbcType=VARCHAR},
      </if>
      <if test="codtipoiden != null">
        #{codtipoiden,jdbcType=VARCHAR},
      </if>
      <if test="documento != null">
        #{documento,jdbcType=VARCHAR},
      </if>
      <if test="observaciones != null">
        #{observaciones,jdbcType=VARCHAR},
      </if>
      <if test="fechaNacimiento != null">
        #{fechaNacimiento,jdbcType=TIMESTAMP},
      </if>
      <if test="sexo != null">
        #{sexo,jdbcType=CHAR},
      </if>
      <if test="codestcivil != null">
        #{codestcivil,jdbcType=CHAR},
      </if>
      <if test="activo != null">
        #{activo,jdbcType=CHAR},
      </if>
      <if test="fechaAlta != null">
        #{fechaAlta,jdbcType=TIMESTAMP},
      </if>
      <if test="fechaModificacion != null">
        #{fechaModificacion,jdbcType=TIMESTAMP},
      </if>
      <if test="fechaBaja != null">
        #{fechaBaja,jdbcType=TIMESTAMP},
      </if>
      <if test="codfidelizado != null">
        #{codfidelizado,jdbcType=VARCHAR},
      </if>
      <if test="codlengua != null">
        #{codlengua,jdbcType=VARCHAR},
      </if>
      <if test="paperLess != null">
        #{paperLess,jdbcType=CHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.comerzzia.bricodepot.backoffice.persistence.fidelizacion.fidelizados.XFidelizadoExample" resultType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 20 15:19:47 CEST 2023.
    -->
    select count(*) from f_fidelizados_tbl
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 20 15:19:47 CEST 2023.
    -->
    update f_fidelizados_tbl
    <set>
      <if test="row.uidInstancia != null">
        uid_instancia = #{row.uidInstancia,jdbcType=VARCHAR},
      </if>
      <if test="row.idFidelizado != null">
        id_fidelizado = #{row.idFidelizado,jdbcType=BIGINT},
      </if>
      <if test="row.nombre != null">
        nombre = #{row.nombre,jdbcType=VARCHAR},
      </if>
      <if test="row.apellidos != null">
        apellidos = #{row.apellidos,jdbcType=VARCHAR},
      </if>
      <if test="row.domicilio != null">
        domicilio = #{row.domicilio,jdbcType=VARCHAR},
      </if>
      <if test="row.poblacion != null">
        poblacion = #{row.poblacion,jdbcType=VARCHAR},
      </if>
      <if test="row.localidad != null">
        localidad = #{row.localidad,jdbcType=VARCHAR},
      </if>
      <if test="row.provincia != null">
        provincia = #{row.provincia,jdbcType=VARCHAR},
      </if>
      <if test="row.cp != null">
        cp = #{row.cp,jdbcType=VARCHAR},
      </if>
      <if test="row.codpais != null">
        codpais = #{row.codpais,jdbcType=VARCHAR},
      </if>
      <if test="row.codtipoiden != null">
        codtipoiden = #{row.codtipoiden,jdbcType=VARCHAR},
      </if>
      <if test="row.documento != null">
        documento = #{row.documento,jdbcType=VARCHAR},
      </if>
      <if test="row.observaciones != null">
        observaciones = #{row.observaciones,jdbcType=VARCHAR},
      </if>
      <if test="row.fechaNacimiento != null">
        fecha_nacimiento = #{row.fechaNacimiento,jdbcType=TIMESTAMP},
      </if>
      <if test="row.sexo != null">
        sexo = #{row.sexo,jdbcType=CHAR},
      </if>
      <if test="row.codestcivil != null">
        codestcivil = #{row.codestcivil,jdbcType=CHAR},
      </if>
      <if test="row.activo != null">
        activo = #{row.activo,jdbcType=CHAR},
      </if>
      <if test="row.fechaAlta != null">
        fecha_alta = #{row.fechaAlta,jdbcType=TIMESTAMP},
      </if>
      <if test="row.fechaModificacion != null">
        fecha_modificacion = #{row.fechaModificacion,jdbcType=TIMESTAMP},
      </if>
      <if test="row.fechaBaja != null">
        fecha_baja = #{row.fechaBaja,jdbcType=TIMESTAMP},
      </if>
      <if test="row.codfidelizado != null">
        codfidelizado = #{row.codfidelizado,jdbcType=VARCHAR},
      </if>
      <if test="row.codlengua != null">
        codlengua = #{row.codlengua,jdbcType=VARCHAR},
      </if>
      <if test="row.paperLess != null">
        paper_less = #{row.paperLess,jdbcType=CHAR},
      </if>
    </set>
    <if test="example != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 20 15:19:47 CEST 2023.
    -->
    update f_fidelizados_tbl
    set uid_instancia = #{row.uidInstancia,jdbcType=VARCHAR},
      id_fidelizado = #{row.idFidelizado,jdbcType=BIGINT},
      nombre = #{row.nombre,jdbcType=VARCHAR},
      apellidos = #{row.apellidos,jdbcType=VARCHAR},
      domicilio = #{row.domicilio,jdbcType=VARCHAR},
      poblacion = #{row.poblacion,jdbcType=VARCHAR},
      localidad = #{row.localidad,jdbcType=VARCHAR},
      provincia = #{row.provincia,jdbcType=VARCHAR},
      cp = #{row.cp,jdbcType=VARCHAR},
      codpais = #{row.codpais,jdbcType=VARCHAR},
      codtipoiden = #{row.codtipoiden,jdbcType=VARCHAR},
      documento = #{row.documento,jdbcType=VARCHAR},
      observaciones = #{row.observaciones,jdbcType=VARCHAR},
      fecha_nacimiento = #{row.fechaNacimiento,jdbcType=TIMESTAMP},
      sexo = #{row.sexo,jdbcType=CHAR},
      codestcivil = #{row.codestcivil,jdbcType=CHAR},
      activo = #{row.activo,jdbcType=CHAR},
      fecha_alta = #{row.fechaAlta,jdbcType=TIMESTAMP},
      fecha_modificacion = #{row.fechaModificacion,jdbcType=TIMESTAMP},
      fecha_baja = #{row.fechaBaja,jdbcType=TIMESTAMP},
      codfidelizado = #{row.codfidelizado,jdbcType=VARCHAR},
      codlengua = #{row.codlengua,jdbcType=VARCHAR},
      paper_less = #{row.paperLess,jdbcType=CHAR}
    <if test="example != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.comerzzia.bricodepot.backoffice.persistence.fidelizacion.fidelizados.XFidelizado">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 20 15:19:47 CEST 2023.
    -->
    update f_fidelizados_tbl
    <set>
      <if test="nombre != null">
        nombre = #{nombre,jdbcType=VARCHAR},
      </if>
      <if test="apellidos != null">
        apellidos = #{apellidos,jdbcType=VARCHAR},
      </if>
      <if test="domicilio != null">
        domicilio = #{domicilio,jdbcType=VARCHAR},
      </if>
      <if test="poblacion != null">
        poblacion = #{poblacion,jdbcType=VARCHAR},
      </if>
      <if test="localidad != null">
        localidad = #{localidad,jdbcType=VARCHAR},
      </if>
      <if test="provincia != null">
        provincia = #{provincia,jdbcType=VARCHAR},
      </if>
      <if test="cp != null">
        cp = #{cp,jdbcType=VARCHAR},
      </if>
      <if test="codpais != null">
        codpais = #{codpais,jdbcType=VARCHAR},
      </if>
      <if test="codtipoiden != null">
        codtipoiden = #{codtipoiden,jdbcType=VARCHAR},
      </if>
      <if test="documento != null">
        documento = #{documento,jdbcType=VARCHAR},
      </if>
      <if test="observaciones != null">
        observaciones = #{observaciones,jdbcType=VARCHAR},
      </if>
      <if test="fechaNacimiento != null">
        fecha_nacimiento = #{fechaNacimiento,jdbcType=TIMESTAMP},
      </if>
      <if test="sexo != null">
        sexo = #{sexo,jdbcType=CHAR},
      </if>
      <if test="codestcivil != null">
        codestcivil = #{codestcivil,jdbcType=CHAR},
      </if>
      <if test="activo != null">
        activo = #{activo,jdbcType=CHAR},
      </if>
      <if test="fechaAlta != null">
        fecha_alta = #{fechaAlta,jdbcType=TIMESTAMP},
      </if>
      <if test="fechaModificacion != null">
        fecha_modificacion = #{fechaModificacion,jdbcType=TIMESTAMP},
      </if>
      <if test="fechaBaja != null">
        fecha_baja = #{fechaBaja,jdbcType=TIMESTAMP},
      </if>
      <if test="codfidelizado != null">
        codfidelizado = #{codfidelizado,jdbcType=VARCHAR},
      </if>
      <if test="codlengua != null">
        codlengua = #{codlengua,jdbcType=VARCHAR},
      </if>
      <if test="paperLess != null">
        paper_less = #{paperLess,jdbcType=CHAR},
      </if>
    </set>
    where uid_instancia = #{uidInstancia,jdbcType=VARCHAR}
      and id_fidelizado = #{idFidelizado,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.comerzzia.bricodepot.backoffice.persistence.fidelizacion.fidelizados.XFidelizado">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 20 15:19:47 CEST 2023.
    -->
    update f_fidelizados_tbl
    set nombre = #{nombre,jdbcType=VARCHAR},
      apellidos = #{apellidos,jdbcType=VARCHAR},
      domicilio = #{domicilio,jdbcType=VARCHAR},
      poblacion = #{poblacion,jdbcType=VARCHAR},
      localidad = #{localidad,jdbcType=VARCHAR},
      provincia = #{provincia,jdbcType=VARCHAR},
      cp = #{cp,jdbcType=VARCHAR},
      codpais = #{codpais,jdbcType=VARCHAR},
      codtipoiden = #{codtipoiden,jdbcType=VARCHAR},
      documento = #{documento,jdbcType=VARCHAR},
      observaciones = #{observaciones,jdbcType=VARCHAR},
      fecha_nacimiento = #{fechaNacimiento,jdbcType=TIMESTAMP},
      sexo = #{sexo,jdbcType=CHAR},
      codestcivil = #{codestcivil,jdbcType=CHAR},
      activo = #{activo,jdbcType=CHAR},
      fecha_alta = #{fechaAlta,jdbcType=TIMESTAMP},
      fecha_modificacion = #{fechaModificacion,jdbcType=TIMESTAMP},
      fecha_baja = #{fechaBaja,jdbcType=TIMESTAMP},
      codfidelizado = #{codfidelizado,jdbcType=VARCHAR},
      codlengua = #{codlengua,jdbcType=VARCHAR},
      paper_less = #{paperLess,jdbcType=CHAR}
    where uid_instancia = #{uidInstancia,jdbcType=VARCHAR}
      and id_fidelizado = #{idFidelizado,jdbcType=BIGINT}
  </update>
  
  
  
  <select id="selectByExampleFidelizadoDatos" resultMap="TarjetaResultMap" parameterType="com.comerzzia.model.fidelizacion.fidelizados.FidelizadoExample" resultSetType="SCROLL_INSENSITIVE" >
    select
      distinct
    <include refid="View_Tarjeta_Column_List" />
    from F_FIDELIZADOS_TBL FIDELIZADOS
       LEFT JOIN F_TARJETAS_TBL TARJETAS
           ON (TARJETAS.UID_INSTANCIA = FIDELIZADOS.UID_INSTANCIA
               AND TARJETAS.ID_FIDELIZADO = FIDELIZADOS.ID_FIDELIZADO)
       LEFT JOIN F_TARJETAS_TIPOS_TBL TIPOS
            ON (TIPOS.UID_INSTANCIA = TARJETAS.UID_INSTANCIA
                AND TIPOS.CODTIPOTARJ = TARJETAS.CODTIPOTARJ)
       <if test="codColectivos != null and !codColectivos.isEmpty">
       LEFT JOIN F_FIDELIZADOS_COLECTIVOS_TBL COLEC
            ON (COLEC.UID_INSTANCIA = FIDELIZADOS.UID_INSTANCIA
                AND COLEC.ID_FIDELIZADO = FIDELIZADOS.ID_FIDELIZADO)
       </if>
       <if test="etiquetas != null and !etiquetas.isEmpty">       
       LEFT JOIN D_ETIQUETAS_ENL_TBL ETIENL
           ON (ETIENL.UID_ACTIVIDAD = #{uidActividad,jdbcType=VARCHAR} 
           		AND ETIENL.ID_CLASE = 'F_FIDELIZADOS_TBL.ID_FIDELIZADO' 
           		AND ETIENL.ID_OBJETO = RTRIM(CAST(FIDELIZADOS.ID_FIDELIZADO AS NCHAR(10))) )       
       LEFT JOIN D_ETIQUETAS_TBL ETI
           ON (ETI.UID_ACTIVIDAD = ETIENL.UID_ACTIVIDAD 
           		AND ETI.UID_ETIQUETA = ETIENL.UID_ETIQUETA) 
   		LEFT JOIN F_FIDELIZADOS_CONTACTO_TBL CONT_EMAIL 
       		ON (FIDELIZADOS.UID_INSTANCIA = CONT_EMAIL.UID_INSTANCIA 
       			AND FIDELIZADOS.ID_FIDELIZADO = CONT_EMAIL.ID_FIDELIZADO
       			AND CONT_EMAIL.CODTIPOCON = 'EMAIL')
       	LEFT JOIN F_FIDELIZADOS_CONTACTO_TBL CONT_PHONE 
       		ON (FIDELIZADOS.UID_INSTANCIA = CONT_PHONE.UID_INSTANCIA 
       			AND FIDELIZADOS.ID_FIDELIZADO = CONT_PHONE.ID_FIDELIZADO
       			AND CONT_PHONE.CODTIPOCON = 'TELEFONO1')
       </if> 
       <if test="email != null">
       INNER JOIN F_FIDELIZADOS_CONTACTO_TBL CONT_EMAIL 
       		ON (FIDELIZADOS.UID_INSTANCIA = CONT_EMAIL.UID_INSTANCIA 
       			AND FIDELIZADOS.ID_FIDELIZADO = CONT_EMAIL.ID_FIDELIZADO
       			AND CONT_EMAIL.CODTIPOCON = 'EMAIL' 
       			AND UPPER(CONT_EMAIL.VALOR) = #{email,jdbcType=VARCHAR})
       </if>
   		
       <if test="phone != null">
       INNER JOIN F_FIDELIZADOS_CONTACTO_TBL CONT_PHONE 
       		ON (FIDELIZADOS.UID_INSTANCIA = CONT_PHONE.UID_INSTANCIA 
       			AND FIDELIZADOS.ID_FIDELIZADO = CONT_PHONE.ID_FIDELIZADO
       			AND (CONT_PHONE.CODTIPOCON = 'TELEFONO1' 
       			     OR CONT_PHONE.CODTIPOCON = 'MOVIL'
       			     OR CONT_PHONE.CODTIPOCON = 'TELEFONO2'
       			     OR CONT_PHONE.CODTIPOCON = 'TRABAJO')
       			AND CONT_PHONE.VALOR = #{phone,jdbcType=VARCHAR})
       </if>			
       	
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause_Export" />
    </if>
    AND TIPOS.PERMITE_VINCULAR = 'S'
    AND TIPOS.PERMITE_PAGO = 'N'
    <if test="codColectivos != null and !codColectivos.isEmpty">
    AND
	    <foreach collection="codColectivos" item="codColectivo" open="(" close=")" separator="OR">
		  				COLEC.COD_COLECTIVO = '${codColectivo}'
		</foreach>
    </if>
    <if test="etiquetas != null and !etiquetas.isEmpty">
    AND
	    <foreach collection="etiquetas" item="etiqueta" open="(" close=")" separator="OR">
		  				ETI.ETIQUETA = '${etiqueta}'
		</foreach>
    </if>
    <if test="example.orderByClause != null" >
      order by ${example.orderByClause}
    </if>
  </select>
  
  <sql id="View_Tarjeta_Column_List" >
   FIDELIZADOS.FECHA_ALTA, CODFIDELIZADO, APELLIDOS, CODPAIS, FIDELIZADOS.ACTIVO, FIDELIZADOS.ID_FIDELIZADO, CODESTCIVIL, CODTIPOIDEN, 
   FIDELIZADOS.FECHA_BAJA, FECHA_NACIMIENTO, DOMICILIO, DOCUMENTO, FIDELIZADOS.UID_INSTANCIA, NOMBRE, CP, SEXO, PROVINCIA, 
   FIDELIZADOS.FECHA_MODIFICACION, LOCALIDAD, OBSERVACIONES, POBLACION, NUMERO_TARJETA, CODLENGUA, PAPER_LESS
  </sql>
  
  <sql id="Example_Where_Clause_Export" >
    <where >
      <foreach collection="example.oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.activoCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.comerzzia.core.util.mybatis.typehandlers.BooleanStringTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.comerzzia.core.util.mybatis.typehandlers.BooleanStringTypeHandler} and #{criterion.secondValue,typeHandler=com.comerzzia.core.util.mybatis.typehandlers.BooleanStringTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.comerzzia.core.util.mybatis.typehandlers.BooleanStringTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
            <foreach collection="criteria.paperLessCriteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.comerzzia.core.util.mybatis.typehandlers.BooleanStringTypeHandler}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value,typeHandler=com.comerzzia.core.util.mybatis.typehandlers.BooleanStringTypeHandler} and #{criterion.secondValue,typeHandler=com.comerzzia.core.util.mybatis.typehandlers.BooleanStringTypeHandler}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem,typeHandler=com.comerzzia.core.util.mybatis.typehandlers.BooleanStringTypeHandler}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql> 
  
</mapper>