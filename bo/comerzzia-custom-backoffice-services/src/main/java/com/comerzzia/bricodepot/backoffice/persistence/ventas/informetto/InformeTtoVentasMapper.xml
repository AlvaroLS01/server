<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.comerzzia.bricodepot.backoffice.persistence.ventas.informetto.InformeTtoVentasMapper">
	<resultMap id="BaseResultMap"
		type="com.comerzzia.bricodepot.backoffice.persistence.ventas.informetto.InformeTtoVentas">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 28 
			13:57:12 CEST 2024. -->
		<id column="UID_ACTIVIDAD" jdbcType="VARCHAR"
			property="uidActividad" />
		<id column="FECHA" jdbcType="DATE" property="fecha" />
		<id column="CODALM" jdbcType="VARCHAR" property="codalm" />
		<id column="CODCAJA" jdbcType="VARCHAR" property="codcaja" />
		<result column="KPI" jdbcType="DECIMAL" property="kpi" />
		<result column="CIFRA_DE_VENTA" jdbcType="DECIMAL"
			property="cifraDeVenta" />
		<result column="SI_COFRE" jdbcType="DECIMAL" property="siCofre" />
		<result column="SF_COFRE" jdbcType="DECIMAL" property="sfCofre" />
		<result column="COMPRA_DE_MONEDA" jdbcType="DECIMAL"
			property="compraDeMoneda" />
		<result column="SI_COFRE_RETIRADAS" jdbcType="DECIMAL"
			property="siCofreRetiradas" />
		<result column="SF_COFRE_RETIRADAS" jdbcType="DECIMAL"
			property="sfCofreRetiradas" />
		<result column="ANTICIPOS_PAGADOS" jdbcType="DECIMAL"
			property="anticiposPagados" />
		<result column="ANTICIPOS_DESCONTADOS" jdbcType="DECIMAL"
			property="anticiposDescontados" />
		<result column="PAGO_A_PROVEEDOR" jdbcType="DECIMAL"
			property="pagoAProveedor" />
		<result column="RETIRADA" jdbcType="DECIMAL"
			property="retirada" />
		<result column="EFECTIVO" jdbcType="DECIMAL"
			property="efectivo" />
		<result column="TARJETA" jdbcType="DECIMAL" property="tarjeta" />
		<result column="TARJETA_MANUAL" jdbcType="DECIMAL"
			property="tarjetaManual" />
		<result column="ES_FINANCIACION" jdbcType="DECIMAL"
			property="esFinanciacion" />
		<result column="PT_FINANCIACION" jdbcType="DECIMAL"
			property="ptFinanciacion" />
		<result column="TRANSFERENCIA" jdbcType="DECIMAL"
			property="transferencia" />
		<result column="ECOMMERCE" jdbcType="DECIMAL"
			property="ecommerce" />
		<result column="VALE_FLEXPOINT" jdbcType="DECIMAL"
			property="valeFlexpoint" />
		<result column="VALE_COMERZZIA" jdbcType="DECIMAL"
			property="valeComerzzia" />
		<result column="GIFT_CARD" jdbcType="DECIMAL"
			property="giftCard" />
		<result column="TARJETA_FIDELIZADO" jdbcType="DECIMAL"
			property="tarjetaFidelizado" />
		<result column="CLIENTE_A_CUENTA" jdbcType="DECIMAL"
			property="clienteACuenta" />
		<result column="ENVIADO_A_BANCO" jdbcType="DECIMAL"
			property="enviadoABanco" />
		<result column="IMPORTE_INGRESADO_EN_BANCO" jdbcType="DECIMAL"
			property="importeIngresadoEnBanco" />
		<result column="APORTACIONES" jdbcType="DECIMAL"
			property="aportaciones" />
		<result column="DESAPORTACIONES" jdbcType="DECIMAL"
			property="desaportaciones" />
		<result column="CAMBIOS_ENTRADA" jdbcType="DECIMAL"
			property="cambiosEntrada" />
		<result column="CAMBIOS_SALIDA" jdbcType="DECIMAL"
			property="cambiosSalida" />
	</resultMap>
	<sql id="Example_Where_Clause">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 28 
			13:57:12 CEST 2024. -->
		<where>
			<foreach collection="oredCriteria" item="criteria"
				separator="or">
				<if test="criteria.valid">
					<trim prefix="(" prefixOverrides="and" suffix=")">
						<foreach collection="criteria.criteria" item="criterion">
							<choose>
								<when test="criterion.noValue">
									and ${criterion.condition}
								</when>
								<when test="criterion.singleValue">
									and ${criterion.condition} #{criterion.value}
								</when>
								<when test="criterion.betweenValue">
									and ${criterion.condition} #{criterion.value} and
									#{criterion.secondValue}
								</when>
								<when test="criterion.listValue">
									and ${criterion.condition}
									<foreach close=")" collection="criterion.value"
										item="listItem" open="(" separator=",">
										#{listItem}
									</foreach>
								</when>
							</choose>
						</foreach>
					</trim>
				</if>
			</foreach>
		</where>
	</sql>
	<sql id="Update_By_Example_Where_Clause">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 28 
			13:57:12 CEST 2024. -->
		<where>
			<foreach collection="example.oredCriteria" item="criteria"
				separator="or">
				<if test="criteria.valid">
					<trim prefix="(" prefixOverrides="and" suffix=")">
						<foreach collection="criteria.criteria" item="criterion">
							<choose>
								<when test="criterion.noValue">
									and ${criterion.condition}
								</when>
								<when test="criterion.singleValue">
									and ${criterion.condition} #{criterion.value}
								</when>
								<when test="criterion.betweenValue">
									and ${criterion.condition} #{criterion.value} and
									#{criterion.secondValue}
								</when>
								<when test="criterion.listValue">
									and ${criterion.condition}
									<foreach close=")" collection="criterion.value"
										item="listItem" open="(" separator=",">
										#{listItem}
									</foreach>
								</when>
							</choose>
						</foreach>
					</trim>
				</if>
			</foreach>
		</where>
	</sql>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 28 
			13:57:12 CEST 2024. -->
		UID_ACTIVIDAD, FECHA, CODALM, CODCAJA, KPI, CIFRA_DE_VENTA, SI_COFRE,
		SF_COFRE, COMPRA_DE_MONEDA,
		SI_COFRE_RETIRADAS, SF_COFRE_RETIRADAS, ANTICIPOS_PAGADOS, ANTICIPOS_DESCONTADOS,
		PAGO_A_PROVEEDOR, RETIRADA, EFECTIVO, TARJETA, TARJETA_MANUAL,
		ES_FINANCIACION, PT_FINANCIACION,TRANSFERENCIA
		ECOMMERCE, VALE_FLEXPOINT, VALE_COMERZZIA, GIFT_CARD, TARJETA_FIDELIZADO,
		CLIENTE_A_CUENTA,
		ENVIADO_A_BANCO, IMPORTE_INGRESADO_EN_BANCO, APORTACIONES, DESAPORTACIONES,
		CAMBIOS_ENTRADA,
		CAMBIOS_SALIDA
	</sql>
	<select id="selectByExample"
		parameterType="com.comerzzia.bricodepot.backoffice.persistence.ventas.informetto.InformeTtoVentasExample"
		resultMap="BaseResultMap">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 28 
			13:57:12 CEST 2024. -->
		select
		<if test="distinct">
			distinct
		</if>
		<include refid="Base_Column_List" />
		from x_informe_tto_ventas_tbl
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
		<if test="orderByClause != null">
			order by ${orderByClause}
		</if>
	</select>
	<select id="selectByPrimaryKey"
		parameterType="com.comerzzia.bricodepot.backoffice.persistence.ventas.informetto.InformeTtoVentasKey"
		resultMap="BaseResultMap">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 28 
			13:57:12 CEST 2024. -->
		select
		<include refid="Base_Column_List" />
		from x_informe_tto_ventas_tbl
		where UID_ACTIVIDAD = #{uidActividad,jdbcType=VARCHAR}
		and FECHA = #{fecha,jdbcType=DATE}
		and CODALM = #{codalm,jdbcType=VARCHAR}
		and CODCAJA = #{codcaja,jdbcType=VARCHAR}
	</select>
	<delete id="deleteByPrimaryKey"
		parameterType="com.comerzzia.bricodepot.backoffice.persistence.ventas.informetto.InformeTtoVentasKey">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 28 
			13:57:12 CEST 2024. -->
		delete from x_informe_tto_ventas_tbl
		where UID_ACTIVIDAD = #{uidActividad,jdbcType=VARCHAR}
		and FECHA = #{fecha,jdbcType=DATE}
		and CODALM = #{codalm,jdbcType=VARCHAR}
		and CODCAJA = #{codcaja,jdbcType=VARCHAR}
	</delete>
	<delete id="deleteByExample"
		parameterType="com.comerzzia.bricodepot.backoffice.persistence.ventas.informetto.InformeTtoVentasExample">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 28 
			13:57:12 CEST 2024. -->
		delete from x_informe_tto_ventas_tbl
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
	</delete>
	<insert id="insert"
		parameterType="com.comerzzia.bricodepot.backoffice.persistence.ventas.informetto.InformeTtoVentas">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 28 
			13:57:12 CEST 2024. -->
		insert into x_informe_tto_ventas_tbl (UID_ACTIVIDAD, FECHA, CODALM,
		CODCAJA, KPI, CIFRA_DE_VENTA,
		SI_COFRE, SF_COFRE, COMPRA_DE_MONEDA,
		SI_COFRE_RETIRADAS, SF_COFRE_RETIRADAS, ANTICIPOS_PAGADOS,
		ANTICIPOS_DESCONTADOS, PAGO_A_PROVEEDOR, RETIRADA,
		EFECTIVO, TARJETA, TARJETA_MANUAL,
		ES_FINANCIACION, PT_FINANCIACION, TRANSFERENCIA, ECOMMERCE,
		VALE_FLEXPOINT, VALE_COMERZZIA, GIFT_CARD,
		TARJETA_FIDELIZADO, CLIENTE_A_CUENTA, ENVIADO_A_BANCO,
		IMPORTE_INGRESADO_EN_BANCO, APORTACIONES,
		DESAPORTACIONES, CAMBIOS_ENTRADA, CAMBIOS_SALIDA
		)
		values (#{uidActividad,jdbcType=VARCHAR}, #{fecha,jdbcType=DATE},
		#{codalm,jdbcType=VARCHAR},
		#{codcaja,jdbcType=VARCHAR}, #{kpi,jdbcType=DECIMAL}, #{cifraDeVenta,jdbcType=DECIMAL},
		#{siCofre,jdbcType=DECIMAL}, #{sfCofre,jdbcType=DECIMAL},
		#{compraDeMoneda,jdbcType=DECIMAL},
		#{siCofreRetiradas,jdbcType=DECIMAL},
		#{sfCofreRetiradas,jdbcType=DECIMAL},
		#{anticiposPagados,jdbcType=DECIMAL},
		#{anticiposDescontados,jdbcType=DECIMAL},
		#{pagoAProveedor,jdbcType=DECIMAL}, #{retirada,jdbcType=DECIMAL},
		#{efectivo,jdbcType=DECIMAL}, #{tarjeta,jdbcType=DECIMAL},
		#{tarjetaManual,jdbcType=DECIMAL},
		#{esFinanciacion,jdbcType=DECIMAL}, #{ptFinanciacion,jdbcType=DECIMAL}, #{transferencia,jdbcType=DECIMAL}, #{ecommerce,jdbcType=DECIMAL},
		#{valeFlexpoint,jdbcType=DECIMAL}, #{valeComerzzia,jdbcType=DECIMAL},
		#{giftCard,jdbcType=DECIMAL},
		#{tarjetaFidelizado,jdbcType=DECIMAL}, #{clienteACuenta,jdbcType=DECIMAL},
		#{enviadoABanco,jdbcType=DECIMAL},
		#{importeIngresadoEnBanco,jdbcType=DECIMAL},
		#{aportaciones,jdbcType=DECIMAL},
		#{desaportaciones,jdbcType=DECIMAL}, #{cambiosEntrada,jdbcType=DECIMAL}, #{cambiosSalida,jdbcType=DECIMAL}
		)
	</insert>
	<insert id="insertSelective"
		parameterType="com.comerzzia.bricodepot.backoffice.persistence.ventas.informetto.InformeTtoVentas">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 28 
			13:57:12 CEST 2024. -->
		insert into x_informe_tto_ventas_tbl
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="uidActividad != null">
				UID_ACTIVIDAD,
			</if>
			<if test="fecha != null">
				FECHA,
			</if>
			<if test="codalm != null">
				CODALM,
			</if>
			<if test="codcaja != null">
				CODCAJA,
			</if>
			<if test="kpi != null">
				KPI,
			</if>
			<if test="cifraDeVenta != null">
				CIFRA_DE_VENTA,
			</if>
			<if test="siCofre != null">
				SI_COFRE,
			</if>
			<if test="sfCofre != null">
				SF_COFRE,
			</if>
			<if test="compraDeMoneda != null">
				COMPRA_DE_MONEDA,
			</if>
			<if test="siCofreRetiradas != null">
				SI_COFRE_RETIRADAS,
			</if>
			<if test="sfCofreRetiradas != null">
				SF_COFRE_RETIRADAS,
			</if>
			<if test="anticiposPagados != null">
				ANTICIPOS_PAGADOS,
			</if>
			<if test="anticiposDescontados != null">
				ANTICIPOS_DESCONTADOS,
			</if>
			<if test="pagoAProveedor != null">
				PAGO_A_PROVEEDOR,
			</if>
			<if test="retirada != null">
				RETIRADA,
			</if>
			<if test="efectivo != null">
				EFECTIVO,
			</if>
			<if test="tarjeta != null">
				TARJETA,
			</if>
			<if test="tarjetaManual != null">
				TARJETA_MANUAL,
			</if>
			<if test="esFinanciacion != null">
				ES_FINANCIACION,
			</if>
			<if test="ptFinanciacion != null">
				PT_FINANCIACION,
			</if>
			<if test="transferencia != null">
				TRANSFERENCIA,
			</if>
			<if test="ecommerce != null">
				ECOMMERCE,
			</if>
			<if test="valeFlexpoint != null">
				VALE_FLEXPOINT,
			</if>
			<if test="valeComerzzia != null">
				VALE_COMERZZIA,
			</if>
			<if test="giftCard != null">
				GIFT_CARD,
			</if>
			<if test="tarjetaFidelizado != null">
				TARJETA_FIDELIZADO,
			</if>
			<if test="clienteACuenta != null">
				CLIENTE_A_CUENTA,
			</if>
			<if test="enviadoABanco != null">
				ENVIADO_A_BANCO,
			</if>
			<if test="importeIngresadoEnBanco != null">
				IMPORTE_INGRESADO_EN_BANCO,
			</if>
			<if test="aportaciones != null">
				APORTACIONES,
			</if>
			<if test="desaportaciones != null">
				DESAPORTACIONES,
			</if>
			<if test="cambiosEntrada != null">
				CAMBIOS_ENTRADA,
			</if>
			<if test="cambiosSalida != null">
				CAMBIOS_SALIDA,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="uidActividad != null">
				#{uidActividad,jdbcType=VARCHAR},
			</if>
			<if test="fecha != null">
				#{fecha,jdbcType=DATE},
			</if>
			<if test="codalm != null">
				#{codalm,jdbcType=VARCHAR},
			</if>
			<if test="codcaja != null">
				#{codcaja,jdbcType=VARCHAR},
			</if>
			<if test="kpi != null">
				#{kpi,jdbcType=DECIMAL},
			</if>
			<if test="cifraDeVenta != null">
				#{cifraDeVenta,jdbcType=DECIMAL},
			</if>
			<if test="siCofre != null">
				#{siCofre,jdbcType=DECIMAL},
			</if>
			<if test="sfCofre != null">
				#{sfCofre,jdbcType=DECIMAL},
			</if>
			<if test="compraDeMoneda != null">
				#{compraDeMoneda,jdbcType=DECIMAL},
			</if>
			<if test="siCofreRetiradas != null">
				#{siCofreRetiradas,jdbcType=DECIMAL},
			</if>
			<if test="sfCofreRetiradas != null">
				#{sfCofreRetiradas,jdbcType=DECIMAL},
			</if>
			<if test="anticiposPagados != null">
				#{anticiposPagados,jdbcType=DECIMAL},
			</if>
			<if test="anticiposDescontados != null">
				#{anticiposDescontados,jdbcType=DECIMAL},
			</if>
			<if test="pagoAProveedor != null">
				#{pagoAProveedor,jdbcType=DECIMAL},
			</if>
			<if test="retirada != null">
				#{retirada,jdbcType=DECIMAL},
			</if>
			<if test="efectivo != null">
				#{efectivo,jdbcType=DECIMAL},
			</if>
			<if test="tarjeta != null">
				#{tarjeta,jdbcType=DECIMAL},
			</if>
			<if test="tarjetaManual != null">
				#{tarjetaManual,jdbcType=DECIMAL},
			</if>
			<if test="esFinanciacion != null">
				#{esFinanciacion,jdbcType=DECIMAL},
			</if>
			<if test="ptFinanciacion != null">
				#{ptFinanciacion,jdbcType=DECIMAL},
			</if>
			<if test="transferencia != null">
				#{transferencia,jdbcType=DECIMAL},
			</if>
			<if test="ecommerce != null">
				#{ecommerce,jdbcType=DECIMAL},
			</if>
			<if test="valeFlexpoint != null">
				#{valeFlexpoint,jdbcType=DECIMAL},
			</if>
			<if test="valeComerzzia != null">
				#{valeComerzzia,jdbcType=DECIMAL},
			</if>
			<if test="giftCard != null">
				#{giftCard,jdbcType=DECIMAL},
			</if>
			<if test="tarjetaFidelizado != null">
				#{tarjetaFidelizado,jdbcType=DECIMAL},
			</if>
			<if test="clienteACuenta != null">
				#{clienteACuenta,jdbcType=DECIMAL},
			</if>
			<if test="enviadoABanco != null">
				#{enviadoABanco,jdbcType=DECIMAL},
			</if>
			<if test="importeIngresadoEnBanco != null">
				#{importeIngresadoEnBanco,jdbcType=DECIMAL},
			</if>
			<if test="aportaciones != null">
				#{aportaciones,jdbcType=DECIMAL},
			</if>
			<if test="desaportaciones != null">
				#{desaportaciones,jdbcType=DECIMAL},
			</if>
			<if test="cambiosEntrada != null">
				#{cambiosEntrada,jdbcType=DECIMAL},
			</if>
			<if test="cambiosSalida != null">
				#{cambiosSalida,jdbcType=DECIMAL},
			</if>
		</trim>
	</insert>
	<select id="countByExample"
		parameterType="com.comerzzia.bricodepot.backoffice.persistence.ventas.informetto.InformeTtoVentasExample"
		resultType="java.lang.Long">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 28 
			13:57:12 CEST 2024. -->
		select count(*) from x_informe_tto_ventas_tbl
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
	</select>
	<update id="updateByExampleSelective" parameterType="map">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 28 
			13:57:12 CEST 2024. -->
		update x_informe_tto_ventas_tbl
		<set>
			<if test="record.uidActividad != null">
				UID_ACTIVIDAD = #{record.uidActividad,jdbcType=VARCHAR},
			</if>
			<if test="record.fecha != null">
				FECHA = #{record.fecha,jdbcType=DATE},
			</if>
			<if test="record.codalm != null">
				CODALM = #{record.codalm,jdbcType=VARCHAR},
			</if>
			<if test="record.codcaja != null">
				CODCAJA = #{record.codcaja,jdbcType=VARCHAR},
			</if>
			<if test="record.kpi != null">
				KPI = #{record.kpi,jdbcType=DECIMAL},
			</if>
			<if test="record.cifraDeVenta != null">
				CIFRA_DE_VENTA = #{record.cifraDeVenta,jdbcType=DECIMAL},
			</if>
			<if test="record.siCofre != null">
				SI_COFRE = #{record.siCofre,jdbcType=DECIMAL},
			</if>
			<if test="record.sfCofre != null">
				SF_COFRE = #{record.sfCofre,jdbcType=DECIMAL},
			</if>
			<if test="record.compraDeMoneda != null">
				COMPRA_DE_MONEDA = #{record.compraDeMoneda,jdbcType=DECIMAL},
			</if>
			<if test="record.siCofreRetiradas != null">
				SI_COFRE_RETIRADAS = #{record.siCofreRetiradas,jdbcType=DECIMAL},
			</if>
			<if test="record.sfCofreRetiradas != null">
				SF_COFRE_RETIRADAS = #{record.sfCofreRetiradas,jdbcType=DECIMAL},
			</if>
			<if test="record.anticiposPagados != null">
				ANTICIPOS_PAGADOS = #{record.anticiposPagados,jdbcType=DECIMAL},
			</if>
			<if test="record.anticiposDescontados != null">
				ANTICIPOS_DESCONTADOS = #{record.anticiposDescontados,jdbcType=DECIMAL},
			</if>
			<if test="record.pagoAProveedor != null">
				PAGO_A_PROVEEDOR = #{record.pagoAProveedor,jdbcType=DECIMAL},
			</if>
			<if test="record.retirada != null">
				RETIRADA = #{record.retirada,jdbcType=DECIMAL},
			</if>
			<if test="record.efectivo != null">
				EFECTIVO = #{record.efectivo,jdbcType=DECIMAL},
			</if>
			<if test="record.tarjeta != null">
				TARJETA = #{record.tarjeta,jdbcType=DECIMAL},
			</if>
			<if test="record.tarjetaManual != null">
				TARJETA_MANUAL = #{record.tarjetaManual,jdbcType=DECIMAL},
			</if>
			<if test="record.esFinanciacion != null">
				ES_FINANCIACION = #{record.esFinanciacion,jdbcType=DECIMAL},
			</if>
			<if test="record.ptFinanciacion != null">
				PT_FINANCIACION = #{record.ptFinanciacion,jdbcType=DECIMAL},
			</if>
			<if test="record.transferencia != null">
				TRANSFERENCIA = #{record.transferencia,jdbcType=DECIMAL},
			</if>
			<if test="record.ecommerce != null">
				ECOMMERCE = #{record.ecommerce,jdbcType=DECIMAL},
			</if>
			<if test="record.valeFlexpoint != null">
				VALE_FLEXPOINT = #{record.valeFlexpoint,jdbcType=DECIMAL},
			</if>
			<if test="record.valeComerzzia != null">
				VALE_COMERZZIA = #{record.valeComerzzia,jdbcType=DECIMAL},
			</if>
			<if test="record.giftCard != null">
				GIFT_CARD = #{record.giftCard,jdbcType=DECIMAL},
			</if>
			<if test="record.tarjetaFidelizado != null">
				TARJETA_FIDELIZADO = #{record.tarjetaFidelizado,jdbcType=DECIMAL},
			</if>
			<if test="record.clienteACuenta != null">
				CLIENTE_A_CUENTA = #{record.clienteACuenta,jdbcType=DECIMAL},
			</if>
			<if test="record.enviadoABanco != null">
				ENVIADO_A_BANCO = #{record.enviadoABanco,jdbcType=DECIMAL},
			</if>
			<if test="record.importeIngresadoEnBanco != null">
				IMPORTE_INGRESADO_EN_BANCO = #{record.importeIngresadoEnBanco,jdbcType=DECIMAL},
			</if>
			<if test="record.aportaciones != null">
				APORTACIONES = #{record.aportaciones,jdbcType=DECIMAL},
			</if>
			<if test="record.desaportaciones != null">
				DESAPORTACIONES = #{record.desaportaciones,jdbcType=DECIMAL},
			</if>
			<if test="record.cambiosEntrada != null">
				CAMBIOS_ENTRADA = #{record.cambiosEntrada,jdbcType=DECIMAL},
			</if>
			<if test="record.cambiosSalida != null">
				CAMBIOS_SALIDA = #{record.cambiosSalida,jdbcType=DECIMAL},
			</if>
		</set>
		<if test="_parameter != null">
			<include refid="Update_By_Example_Where_Clause" />
		</if>
	</update>
	<update id="updateByExample" parameterType="map">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 28 
			13:57:12 CEST 2024. -->
		update x_informe_tto_ventas_tbl
		set UID_ACTIVIDAD = #{record.uidActividad,jdbcType=VARCHAR},
		FECHA = #{record.fecha,jdbcType=DATE},
		CODALM = #{record.codalm,jdbcType=VARCHAR},
		CODCAJA = #{record.codcaja,jdbcType=VARCHAR},
		KPI = #{record.kpi,jdbcType=DECIMAL},
		CIFRA_DE_VENTA = #{record.cifraDeVenta,jdbcType=DECIMAL},
		SI_COFRE = #{record.siCofre,jdbcType=DECIMAL},
		SF_COFRE = #{record.sfCofre,jdbcType=DECIMAL},
		COMPRA_DE_MONEDA = #{record.compraDeMoneda,jdbcType=DECIMAL},
		SI_COFRE_RETIRADAS = #{record.siCofreRetiradas,jdbcType=DECIMAL},
		SF_COFRE_RETIRADAS = #{record.sfCofreRetiradas,jdbcType=DECIMAL},
		ANTICIPOS_PAGADOS = #{record.anticiposPagados,jdbcType=DECIMAL},
		ANTICIPOS_DESCONTADOS = #{record.anticiposDescontados,jdbcType=DECIMAL},
		PAGO_A_PROVEEDOR = #{record.pagoAProveedor,jdbcType=DECIMAL},
		RETIRADA = #{record.retirada,jdbcType=DECIMAL},
		EFECTIVO = #{record.efectivo,jdbcType=DECIMAL},
		TARJETA = #{record.tarjeta,jdbcType=DECIMAL},
		TARJETA_MANUAL = #{record.tarjetaManual,jdbcType=DECIMAL},
		ES_FINANCIACION = #{record.esFinanciacion,jdbcType=DECIMAL},
		PT_FINANCIACION = #{record.ptFinanciacion,jdbcType=DECIMAL},
		TRANSFERENCIA = #{record.transferencia,jdbcType=DECIMAL},
		ECOMMERCE = #{record.ecommerce,jdbcType=DECIMAL},
		VALE_FLEXPOINT = #{record.valeFlexpoint,jdbcType=DECIMAL},
		VALE_COMERZZIA = #{record.valeComerzzia,jdbcType=DECIMAL},
		GIFT_CARD = #{record.giftCard,jdbcType=DECIMAL},
		TARJETA_FIDELIZADO = #{record.tarjetaFidelizado,jdbcType=DECIMAL},
		CLIENTE_A_CUENTA = #{record.clienteACuenta,jdbcType=DECIMAL},
		ENVIADO_A_BANCO = #{record.enviadoABanco,jdbcType=DECIMAL},
		IMPORTE_INGRESADO_EN_BANCO =
		#{record.importeIngresadoEnBanco,jdbcType=DECIMAL},
		APORTACIONES = #{record.aportaciones,jdbcType=DECIMAL},
		DESAPORTACIONES = #{record.desaportaciones,jdbcType=DECIMAL},
		CAMBIOS_ENTRADA = #{record.cambiosEntrada,jdbcType=DECIMAL},
		CAMBIOS_SALIDA = #{record.cambiosSalida,jdbcType=DECIMAL}
		<if test="_parameter != null">
			<include refid="Update_By_Example_Where_Clause" />
		</if>
	</update>
	<update id="updateByPrimaryKeySelective"
		parameterType="com.comerzzia.bricodepot.backoffice.persistence.ventas.informetto.InformeTtoVentas">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 28 
			13:57:12 CEST 2024. -->
		update x_informe_tto_ventas_tbl
		<set>
			<if test="kpi != null">
				KPI = #{kpi,jdbcType=DECIMAL},
			</if>
			<if test="cifraDeVenta != null">
				CIFRA_DE_VENTA = #{cifraDeVenta,jdbcType=DECIMAL},
			</if>
			<if test="siCofre != null">
				SI_COFRE = #{siCofre,jdbcType=DECIMAL},
			</if>
			<if test="sfCofre != null">
				SF_COFRE = #{sfCofre,jdbcType=DECIMAL},
			</if>
			<if test="compraDeMoneda != null">
				COMPRA_DE_MONEDA = #{compraDeMoneda,jdbcType=DECIMAL},
			</if>
			<if test="siCofreRetiradas != null">
				SI_COFRE_RETIRADAS = #{siCofreRetiradas,jdbcType=DECIMAL},
			</if>
			<if test="sfCofreRetiradas != null">
				SF_COFRE_RETIRADAS = #{sfCofreRetiradas,jdbcType=DECIMAL},
			</if>
			<if test="anticiposPagados != null">
				ANTICIPOS_PAGADOS = #{anticiposPagados,jdbcType=DECIMAL},
			</if>
			<if test="anticiposDescontados != null">
				ANTICIPOS_DESCONTADOS = #{anticiposDescontados,jdbcType=DECIMAL},
			</if>
			<if test="pagoAProveedor != null">
				PAGO_A_PROVEEDOR = #{pagoAProveedor,jdbcType=DECIMAL},
			</if>
			<if test="retirada != null">
				RETIRADA = #{retirada,jdbcType=DECIMAL},
			</if>
			<if test="efectivo != null">
				EFECTIVO = #{efectivo,jdbcType=DECIMAL},
			</if>
			<if test="tarjeta != null">
				TARJETA = #{tarjeta,jdbcType=DECIMAL},
			</if>
			<if test="tarjetaManual != null">
				TARJETA_MANUAL = #{tarjetaManual,jdbcType=DECIMAL},
			</if>
			<if test="esFinanciacion != null">
				ES_FINANCIACION = #{esFinanciacion,jdbcType=DECIMAL},
			</if>
			<if test="ptFinanciacion != null">
				PT_FINANCIACION = #{ptFinanciacion,jdbcType=DECIMAL},
			</if>
			<if test="transferencia != null">
				TRANSFERENCIA = #{transferencia,jdbcType=DECIMAL},
			</if>
			<if test="ecommerce != null">
				ECOMMERCE = #{ecommerce,jdbcType=DECIMAL},
			</if>
			<if test="valeFlexpoint != null">
				VALE_FLEXPOINT = #{valeFlexpoint,jdbcType=DECIMAL},
			</if>
			<if test="valeComerzzia != null">
				VALE_COMERZZIA = #{valeComerzzia,jdbcType=DECIMAL},
			</if>
			<if test="giftCard != null">
				GIFT_CARD = #{giftCard,jdbcType=DECIMAL},
			</if>
			<if test="tarjetaFidelizado != null">
				TARJETA_FIDELIZADO = #{tarjetaFidelizado,jdbcType=DECIMAL},
			</if>
			<if test="clienteACuenta != null">
				CLIENTE_A_CUENTA = #{clienteACuenta,jdbcType=DECIMAL},
			</if>
			<if test="enviadoABanco != null">
				ENVIADO_A_BANCO = #{enviadoABanco,jdbcType=DECIMAL},
			</if>
			<if test="importeIngresadoEnBanco != null">
				IMPORTE_INGRESADO_EN_BANCO = #{importeIngresadoEnBanco,jdbcType=DECIMAL},
			</if>
			<if test="aportaciones != null">
				APORTACIONES = #{aportaciones,jdbcType=DECIMAL},
			</if>
			<if test="desaportaciones != null">
				DESAPORTACIONES = #{desaportaciones,jdbcType=DECIMAL},
			</if>
			<if test="cambiosEntrada != null">
				CAMBIOS_ENTRADA = #{cambiosEntrada,jdbcType=DECIMAL},
			</if>
			<if test="cambiosSalida != null">
				CAMBIOS_SALIDA = #{cambiosSalida,jdbcType=DECIMAL},
			</if>
		</set>
		where UID_ACTIVIDAD = #{uidActividad,jdbcType=VARCHAR}
		and FECHA = #{fecha,jdbcType=DATE}
		and CODALM = #{codalm,jdbcType=VARCHAR}
		and CODCAJA = #{codcaja,jdbcType=VARCHAR}
	</update>
	<update id="updateByPrimaryKey"
		parameterType="com.comerzzia.bricodepot.backoffice.persistence.ventas.informetto.InformeTtoVentas">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Jun 28 
			13:57:12 CEST 2024. -->
		update x_informe_tto_ventas_tbl
		set KPI = #{kpi,jdbcType=DECIMAL},
		CIFRA_DE_VENTA = #{cifraDeVenta,jdbcType=DECIMAL},
		SI_COFRE = #{siCofre,jdbcType=DECIMAL},
		SF_COFRE = #{sfCofre,jdbcType=DECIMAL},
		COMPRA_DE_MONEDA = #{compraDeMoneda,jdbcType=DECIMAL},
		SI_COFRE_RETIRADAS = #{siCofreRetiradas,jdbcType=DECIMAL},
		SF_COFRE_RETIRADAS = #{sfCofreRetiradas,jdbcType=DECIMAL},
		ANTICIPOS_PAGADOS = #{anticiposPagados,jdbcType=DECIMAL},
		ANTICIPOS_DESCONTADOS = #{anticiposDescontados,jdbcType=DECIMAL},
		PAGO_A_PROVEEDOR = #{pagoAProveedor,jdbcType=DECIMAL},
		RETIRADA = #{retirada,jdbcType=DECIMAL},
		EFECTIVO = #{efectivo,jdbcType=DECIMAL},
		TARJETA = #{tarjeta,jdbcType=DECIMAL},
		TARJETA_MANUAL = #{tarjetaManual,jdbcType=DECIMAL},
		ES_FINANCIACION = #{esFinanciacion,jdbcType=DECIMAL},
		PT_FINANCIACION = #{ptFinanciacion,jdbcType=DECIMAL},
		TRANSFERENCIA = #{transferencia,jdbcType=DECIMAL},
		ECOMMERCE = #{ecommerce,jdbcType=DECIMAL},
		VALE_FLEXPOINT = #{valeFlexpoint,jdbcType=DECIMAL},
		VALE_COMERZZIA = #{valeComerzzia,jdbcType=DECIMAL},
		GIFT_CARD = #{giftCard,jdbcType=DECIMAL},
		TARJETA_FIDELIZADO = #{tarjetaFidelizado,jdbcType=DECIMAL},
		CLIENTE_A_CUENTA = #{clienteACuenta,jdbcType=DECIMAL},
		ENVIADO_A_BANCO = #{enviadoABanco,jdbcType=DECIMAL},
		IMPORTE_INGRESADO_EN_BANCO = #{importeIngresadoEnBanco,jdbcType=DECIMAL},
		APORTACIONES = #{aportaciones,jdbcType=DECIMAL},
		DESAPORTACIONES = #{desaportaciones,jdbcType=DECIMAL},
		CAMBIOS_ENTRADA = #{cambiosEntrada,jdbcType=DECIMAL},
		CAMBIOS_SALIDA = #{cambiosSalida,jdbcType=DECIMAL}
		where UID_ACTIVIDAD = #{uidActividad,jdbcType=VARCHAR}
		and FECHA = #{fecha,jdbcType=DATE}
		and CODALM = #{codalm,jdbcType=VARCHAR}
		and CODCAJA = #{codcaja,jdbcType=VARCHAR}
	</update>
	<!-- Consultar Total Ventas (KPI) -->
	<select id="consultarTotalVentas"
		resultType="java.math.BigDecimal">
		SELECT SUM(
		CASE
		WHEN (DOC.CODTIPODOCUMENTO = 'NC' OR DOC_ESTANDAR.VALOR = 'NC') AND SIGNO
		IS NOT NULL
		THEN -1 * ABS(CAB.TOTAL)
		ELSE CAB.TOTAL
		END
		) AS TOTAL
		FROM D_CLIE_ALBARANES_CAB_TBL CAB
		LEFT JOIN D_ALMACENES_CONCEPTOS_TBL CONC ON (
		CAB.UID_ACTIVIDAD = CONC.UID_ACTIVIDAD
		AND CAB.CODAPLICACION = CONC.CODAPLICACION
		AND CAB.CODCONALM = CONC.CODCONALM
		)
		LEFT JOIN D_TIPOS_DOCUMENTOS_TBL DOC ON (
		DOC.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD
		AND DOC.ID_TIPO_DOCUMENTO = CAB.ID_TIPO_DOCUMENTO
		)
		LEFT JOIN D_TIPOS_DOCUMENTOS_PROP_TBL DOC_ESTANDAR ON (
		DOC_ESTANDAR.UID_ACTIVIDAD = DOC.UID_ACTIVIDAD
		AND DOC_ESTANDAR.ID_TIPO_DOCUMENTO = DOC.ID_TIPO_DOCUMENTO
		AND DOC_ESTANDAR.PROPIEDAD = 'TIPO_DOCUMENTO_ESTANDAR'
		)
		WHERE CAB.UID_ACTIVIDAD = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(CAB.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.CODALM = #{codalm,jdbcType=VARCHAR} AND CAB.CODCAJA =
		#{codcaja,jdbcType=VARCHAR}
	</select>


	<!-- Cifra de Venta -->
	<select id="consultarCifraVenta"
		resultType="java.math.BigDecimal">
		SELECT (COALESCE(SUM(DET.cargo), 0) - COALESCE(SUM(DET.abono), 0)) AS
		CIFRA_VENTA
		FROM d_caja_det_tbl DET
		LEFT JOIN d_caja_cab_tbl CAB ON
		(DET.uid_actividad = CAB.uid_actividad AND DET.uid_diario_caja = CAB.uid_diario_caja)
		WHERE DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND CAB.CODCAJA = #{codcaja,jdbcType=VARCHAR} AND CAB.CODCAJA NOT IN
		('80', '90')
		AND CAB.CODALM = #{codalm,jdbcType=VARCHAR}
		AND DET.id_tipo_documento IS NOT NULL
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		GROUP BY CAB.CODALM, CAB.CODCAJA, DATE(STR_TO_DATE(DET.FECHA,
		'%Y-%m-%d'));
	</select>


	<!-- S.I. COFRE -->
	<select id="consultarSaldoInicialCofre"
		resultType="java.math.BigDecimal">
		SELECT DET.CARGO AS SALDO_INICIAL
		FROM d_caja_det_tbl DET
		LEFT JOIN
		d_caja_cab_tbl CAB
		ON (DET.uid_actividad = CAB.uid_actividad AND DET.uid_diario_caja =
		CAB.uid_diario_caja)
		WHERE
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codcaja = '80'
		AND CAB.CODALM = #{codalm,jdbcType=VARCHAR}
		AND DET.codconcepto_mov = '01'
		AND DET.FECHA = (
		SELECT MIN(DET2.FECHA)
		FROM d_caja_det_tbl DET2
		WHERE
		DET2.uid_actividad = DET.uid_actividad
		AND DATE(STR_TO_DATE(DET2.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		);


	</select>

	<!-- S.F. COFRE 26010800 -->
	<select id="consultarSaldoFinalCofre"
		resultType="java.math.BigDecimal">
		SELECT DET.ABONO AS SALDO_FINAL
		FROM d_caja_det_tbl DET
		LEFT JOIN d_caja_cab_tbl CAB
		ON (DET.uid_actividad = CAB.uid_actividad AND DET.uid_diario_caja =
		CAB.uid_diario_caja)
		WHERE
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codcaja = '80'
		AND CAB.CODALM = #{codalm,jdbcType=VARCHAR}
		AND DET.codconcepto_mov = '04'
		AND DET.FECHA = (
		SELECT MAX(DET2.FECHA)
		FROM d_caja_det_tbl DET2
		WHERE
		DET2.uid_actividad = DET.uid_actividad
		AND DATE(STR_TO_DATE(DET2.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		);


	</select>

	<!-- COMPRA DE MONEDA -->
	<select id="consultarCompraMoneda"
		resultType="java.math.BigDecimal">
		SELECT SUM(CARGO) AS COMPRA_MONEDA
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		and CAB.codcaja = '80'
		AND CAB.CODALM = #{codalm,jdbcType=VARCHAR}
		AND DET.codconcepto_mov = '82'
		group by CAB.codalm, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- S.I. COFRE RETIRADAS -->
	<select id="consultarSaldoInicialCofreRetiradas"
		resultType="java.math.BigDecimal">
		SELECT SUM(CARGO) AS SALDO_INICIAL_RETIRADA
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		and CAB.codcaja = '90'
		AND CAB.CODALM = #{codalm,jdbcType=VARCHAR}
		AND DET.codconcepto_mov = '01'
		group by CAB.codalm, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- S.F. COFRE RETIRADAS -->
	<select id="consultarSaldoFinalCofreRetiradas"
		resultType="java.math.BigDecimal">
		SELECT SUM(ABONO) AS SALDO_FINAL_RETIRADA
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		and CAB.codcaja = '90'
		AND CAB.CODALM = #{codalm,jdbcType=VARCHAR}
		AND DET.codconcepto_mov = '04'
		group by CAB.codalm, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- PAGO A PROVEEDOR -->
	<select id="consultarPagoProveedor"
		resultType="java.math.BigDecimal">
		SELECT SUM(ABONO) AS PAGO_PROVEEDOR
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codalm = #{codalm,jdbcType=VARCHAR}
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		and DET.codconcepto_mov = '03'
		group by CAB.codalm, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- RETIRADA -->
	<select id="consultarRetirada" resultType="java.math.BigDecimal">
		SELECT SUM(ABONO) AS RETIRADA
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codalm = #{codalm,jdbcType=VARCHAR}
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		and DET.codconcepto_mov = '02'
		group by CAB.codalm, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- EFECTIVO -->
	<select id="consultarEfectivo" resultType="java.math.BigDecimal">
		SELECT SUM(CARGO) AS EFECTIVO
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codalm = #{codalm,jdbcType=VARCHAR}
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		AND DET.codconcepto_mov is null
		AND DET.codmedpag = '0000'
		group by CAB.codalm, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- TARJETA -->
	<select id="consultarTarjeta" resultType="java.math.BigDecimal">
		SELECT SUM(CARGO) AS TARJETA
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codalm = #{codalm,jdbcType=VARCHAR}
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		AND DET.codconcepto_mov is null
		AND DET.codmedpag = '0010'
		group by CAB.codalm, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- TARJETA MANUAL -->
	<select id="consultarTarjetaManual"
		resultType="java.math.BigDecimal">
		SELECT SUM(CARGO) AS TARJETA_MANUAL
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codalm = #{codalm,jdbcType=VARCHAR}
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		AND DET.codconcepto_mov is null
		AND DET.codmedpag = '0011'
		group by CAB.codalm, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- ES FINANCIACION -->
	<select id="consultarESFinanciacion"
		resultType="java.math.BigDecimal">
		SELECT SUM(CARGO) AS ES_FINANCIACION
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codalm = #{codalm,jdbcType=VARCHAR}
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		AND DET.codconcepto_mov is null
		AND DET.codmedpag = '2001'
		group by CAB.codalm, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- PT FINANCIACION -->
	<select id="consultarPTFinanciacion"
		resultType="java.math.BigDecimal">
		SELECT SUM(CARGO) AS PT_FINANCIACION
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codalm = #{codalm,jdbcType=VARCHAR}
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		AND DET.codconcepto_mov is null
		AND DET.codmedpag = '2002'
		group by CAB.codalm, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>
	
	<!-- TRANSFERENCIA -->
	<select id="consultarTransferencia"
		resultType="java.math.BigDecimal">
		SELECT SUM(CARGO) AS TRANSFERENCIA
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codalm = #{codalm,jdbcType=VARCHAR}
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		AND DET.codconcepto_mov is null
		AND DET.codmedpag = '0110'
		group by CAB.codalm, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- ECOMMERCE -->
	<select id="consultarEcommerce"
		resultType="java.math.BigDecimal">
		SELECT SUM(CARGO) AS ECOMMERCE
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codalm = #{codalm,jdbcType=VARCHAR}
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		AND DET.codconcepto_mov is null
		AND DET.codmedpag = '0402'
		group by CAB.codalm, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- VALE FLEXPOINT -->
	<select id="consultarValeFlexpoint"
		resultType="java.math.BigDecimal">
		SELECT
		SUM(PAG.IMPORTE) as VALE_FLEXPOINT
		FROM
		D_CLIE_ALBARANES_CAB_TBL CAB LEFT JOIN
		D_CLIE_ALBARANES_PAG_TBL PAG ON (PAG.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		PAG.ID_CLIE_ALBARAN = CAB.ID_CLIE_ALBARAN) LEFT JOIN
		X_CUENTAS_MOVIMIENTOS_TBL XMOV ON (XMOV.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		XMOV.ID_CLIE_ALBARAN = CAB.ID_CLIE_ALBARAN AND
		XMOV.LINEA = PAG.LINEA) LEFT JOIN
		F_CUENTAS_MOVIMIENTOS_TBL CMOV ON (CMOV.UID_INSTANCIA = XMOV.UID_INSTANCIA AND
		CMOV.UID_TRANSACCION = XMOV.UID_TRANSACCION) LEFT JOIN
		D_MEDIOS_PAGO_VEN_TBL VEN ON (VEN.UID_ACTIVIDAD = PAG.UID_ACTIVIDAD
		AND
		VEN.ID_MEDPAG_VEN = PAG.ID_MEDPAG_VEN) LEFT JOIN
		D_MEDIOS_PAGO_TBL MPAG ON (MPAG.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		MPAG.CODMEDPAG = VEN.CODMEDPAG) LEFT JOIN
		D_TIPOS_DOCUMENTOS_TBL DOCU ON (DOCU.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		DOCU.ID_TIPO_DOCUMENTO = CAB.ID_TIPO_DOCUMENTO) LEFT JOIN
		F_TARJETAS_TBL TARJ ON (TARJ.UID_INSTANCIA = CMOV.UID_INSTANCIA AND
		TARJ.ID_TARJETA = CMOV.ID_TARJETA AND
		TARJ.ID_CUENTA_TARJETA = CMOV.ID_CUENTA_TARJETA) LEFT JOIN
		F_TARJETAS_TIPOS_TBL TIPOTARJ ON (TIPOTARJ.CODTIPOTARJ = TARJ.CODTIPOTARJ) LEFT JOIN
		F_CUENTAS_TBL CUEN ON (CUEN.UID_INSTANCIA = CMOV.UID_INSTANCIA AND
		CUEN.ID_CUENTA_TARJETA = CMOV.ID_CUENTA_TARJETA) LEFT JOIN
		D_ALMACENES_TBL ALM ON (ALM.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		ALM.CODALM = CAB.CODALM) LEFT JOIN
		X_CLIE_ALBARANES_PAG_TBL XPAG ON (XPAG.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		XPAG.ID_CLIE_ALBARAN = CAB.ID_CLIE_ALBARAN AND
		XPAG.LINEA = PAG.LINEA)
		where CAB.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		and TARJ.codtipotarj = 'AB'
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		and CAB.codalm = #{codalm,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(CAB.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		group by CAB.CODCAJA, CAB.CODALM , DATE(STR_TO_DATE(CAB.FECHA,
		'%Y-%m-%d'))

	</select>

	<!-- VALE COMERZZIA -->
	<select id="consultarValeComerzzia"
		resultType="java.math.BigDecimal">
		SELECT
		SUM(PAG.IMPORTE) as VALE_COMERZZIA
		FROM
		D_CLIE_ALBARANES_CAB_TBL CAB LEFT JOIN
		D_CLIE_ALBARANES_PAG_TBL PAG ON (PAG.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		PAG.ID_CLIE_ALBARAN = CAB.ID_CLIE_ALBARAN) LEFT JOIN
		X_CUENTAS_MOVIMIENTOS_TBL XMOV ON (XMOV.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		XMOV.ID_CLIE_ALBARAN = CAB.ID_CLIE_ALBARAN AND
		XMOV.LINEA = PAG.LINEA) LEFT JOIN
		F_CUENTAS_MOVIMIENTOS_TBL CMOV ON (CMOV.UID_INSTANCIA = XMOV.UID_INSTANCIA AND
		CMOV.UID_TRANSACCION = XMOV.UID_TRANSACCION) LEFT JOIN
		D_MEDIOS_PAGO_VEN_TBL VEN ON (VEN.UID_ACTIVIDAD = PAG.UID_ACTIVIDAD
		AND
		VEN.ID_MEDPAG_VEN = PAG.ID_MEDPAG_VEN) LEFT JOIN
		D_MEDIOS_PAGO_TBL MPAG ON (MPAG.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		MPAG.CODMEDPAG = VEN.CODMEDPAG) LEFT JOIN
		D_TIPOS_DOCUMENTOS_TBL DOCU ON (DOCU.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		DOCU.ID_TIPO_DOCUMENTO = CAB.ID_TIPO_DOCUMENTO) LEFT JOIN
		F_TARJETAS_TBL TARJ ON (TARJ.UID_INSTANCIA = CMOV.UID_INSTANCIA AND
		TARJ.ID_TARJETA = CMOV.ID_TARJETA AND
		TARJ.ID_CUENTA_TARJETA = CMOV.ID_CUENTA_TARJETA) LEFT JOIN
		F_TARJETAS_TIPOS_TBL TIPOTARJ ON (TIPOTARJ.CODTIPOTARJ = TARJ.CODTIPOTARJ) LEFT JOIN
		F_CUENTAS_TBL CUEN ON (CUEN.UID_INSTANCIA = CMOV.UID_INSTANCIA AND
		CUEN.ID_CUENTA_TARJETA = CMOV.ID_CUENTA_TARJETA) LEFT JOIN
		D_ALMACENES_TBL ALM ON (ALM.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		ALM.CODALM = CAB.CODALM) LEFT JOIN
		X_CLIE_ALBARANES_PAG_TBL XPAG ON (XPAG.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		XPAG.ID_CLIE_ALBARAN = CAB.ID_CLIE_ALBARAN AND
		XPAG.LINEA = PAG.LINEA)
		where CAB.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(CAB.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		and CAB.codalm = #{codalm,jdbcType=VARCHAR}
		and TARJ.codtipotarj = 'ABC'
		group by CAB.CODCAJA, CAB.CODALM, DATE(STR_TO_DATE(CAB.FECHA, '%Y-%m-%d'))
	</select>

	<!-- GIFT CARD -->
	<select id="consultarGiftCard" resultType="java.math.BigDecimal">
		SELECT
		SUM(PAG.IMPORTE) as GIFTCARD
		FROM
		D_CLIE_ALBARANES_CAB_TBL CAB LEFT JOIN
		D_CLIE_ALBARANES_PAG_TBL PAG ON (PAG.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		PAG.ID_CLIE_ALBARAN = CAB.ID_CLIE_ALBARAN) LEFT JOIN
		X_CUENTAS_MOVIMIENTOS_TBL XMOV ON (XMOV.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		XMOV.ID_CLIE_ALBARAN = CAB.ID_CLIE_ALBARAN AND
		XMOV.LINEA = PAG.LINEA) LEFT JOIN
		F_CUENTAS_MOVIMIENTOS_TBL CMOV ON (CMOV.UID_INSTANCIA = XMOV.UID_INSTANCIA AND
		CMOV.UID_TRANSACCION = XMOV.UID_TRANSACCION) LEFT JOIN
		D_MEDIOS_PAGO_VEN_TBL VEN ON (VEN.UID_ACTIVIDAD = PAG.UID_ACTIVIDAD
		AND
		VEN.ID_MEDPAG_VEN = PAG.ID_MEDPAG_VEN) LEFT JOIN
		D_MEDIOS_PAGO_TBL MPAG ON (MPAG.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		MPAG.CODMEDPAG = VEN.CODMEDPAG) LEFT JOIN
		D_TIPOS_DOCUMENTOS_TBL DOCU ON (DOCU.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		DOCU.ID_TIPO_DOCUMENTO = CAB.ID_TIPO_DOCUMENTO) LEFT JOIN
		F_TARJETAS_TBL TARJ ON (TARJ.UID_INSTANCIA = CMOV.UID_INSTANCIA AND
		TARJ.ID_TARJETA = CMOV.ID_TARJETA AND
		TARJ.ID_CUENTA_TARJETA = CMOV.ID_CUENTA_TARJETA) LEFT JOIN
		F_TARJETAS_TIPOS_TBL TIPOTARJ ON (TIPOTARJ.CODTIPOTARJ = TARJ.CODTIPOTARJ) LEFT JOIN
		F_CUENTAS_TBL CUEN ON (CUEN.UID_INSTANCIA = CMOV.UID_INSTANCIA AND
		CUEN.ID_CUENTA_TARJETA = CMOV.ID_CUENTA_TARJETA) LEFT JOIN
		D_ALMACENES_TBL ALM ON (ALM.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		ALM.CODALM = CAB.CODALM) LEFT JOIN
		X_CLIE_ALBARANES_PAG_TBL XPAG ON (XPAG.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		XPAG.ID_CLIE_ALBARAN = CAB.ID_CLIE_ALBARAN AND
		XPAG.LINEA = PAG.LINEA)
		where CAB.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(CAB.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		and CAB.codalm = #{codalm,jdbcType=VARCHAR}
		and TARJ.codtipotarj IN ('GC', 'R')
		group by CAB.codalm, CAB.CODCAJA, DATE(STR_TO_DATE(CAB.FECHA, '%Y-%m-%d'));
	</select>

	<!-- TARJETA FIDELIZADO -->
	<select id="consultarTarjetaFidelizado"
		resultType="java.math.BigDecimal">
		SELECT
		SUM(PAG.IMPORTE) as TARJETA_FIDELIZADO
		FROM
		D_CLIE_ALBARANES_CAB_TBL CAB LEFT JOIN
		D_CLIE_ALBARANES_PAG_TBL PAG ON (PAG.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		PAG.ID_CLIE_ALBARAN = CAB.ID_CLIE_ALBARAN) LEFT JOIN
		X_CUENTAS_MOVIMIENTOS_TBL XMOV ON (XMOV.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		XMOV.ID_CLIE_ALBARAN = CAB.ID_CLIE_ALBARAN AND
		XMOV.LINEA = PAG.LINEA) LEFT JOIN
		F_CUENTAS_MOVIMIENTOS_TBL CMOV ON (CMOV.UID_INSTANCIA = XMOV.UID_INSTANCIA AND
		CMOV.UID_TRANSACCION = XMOV.UID_TRANSACCION) LEFT JOIN
		D_MEDIOS_PAGO_VEN_TBL VEN ON (VEN.UID_ACTIVIDAD = PAG.UID_ACTIVIDAD
		AND
		VEN.ID_MEDPAG_VEN = PAG.ID_MEDPAG_VEN) LEFT JOIN
		D_MEDIOS_PAGO_TBL MPAG ON (MPAG.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		MPAG.CODMEDPAG = VEN.CODMEDPAG) LEFT JOIN
		D_TIPOS_DOCUMENTOS_TBL DOCU ON (DOCU.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		DOCU.ID_TIPO_DOCUMENTO = CAB.ID_TIPO_DOCUMENTO) LEFT JOIN
		F_TARJETAS_TBL TARJ ON (TARJ.UID_INSTANCIA = CMOV.UID_INSTANCIA AND
		TARJ.ID_TARJETA = CMOV.ID_TARJETA AND
		TARJ.ID_CUENTA_TARJETA = CMOV.ID_CUENTA_TARJETA) LEFT JOIN
		F_TARJETAS_TIPOS_TBL TIPOTARJ ON (TIPOTARJ.CODTIPOTARJ = TARJ.CODTIPOTARJ) LEFT JOIN
		F_CUENTAS_TBL CUEN ON (CUEN.UID_INSTANCIA = CMOV.UID_INSTANCIA AND
		CUEN.ID_CUENTA_TARJETA = CMOV.ID_CUENTA_TARJETA) LEFT JOIN
		D_ALMACENES_TBL ALM ON (ALM.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		ALM.CODALM = CAB.CODALM) LEFT JOIN
		X_CLIE_ALBARANES_PAG_TBL XPAG ON (XPAG.UID_ACTIVIDAD = CAB.UID_ACTIVIDAD AND
		XPAG.ID_CLIE_ALBARAN = CAB.ID_CLIE_ALBARAN AND
		XPAG.LINEA = PAG.LINEA)
		where CAB.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		and CAB.codalm = #{codalm,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(CAB.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		and TARJ.codtipotarj = 'P'
		group by CAB.codalm ,CAB.CODCAJA, DATE(STR_TO_DATE(CAB.FECHA, '%Y-%m-%d'));
	</select>

	<!-- CLIENTE A CUENTA -->
	<select id="consultarClienteACuenta"
		resultType="java.math.BigDecimal">
		SELECT SUM(CARGO) AS CLIENTE_A_CUENTA
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codalm = #{codalm,jdbcType=VARCHAR}
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		AND DET.codconcepto_mov is null
		AND DET.codmedpag = '0600'
		group by CAB.codalm, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- ENVIADO A BANCO -->
	<select id="consultarEnviadoABanco"
		resultType="java.math.BigDecimal">
		SELECT SUM(ABONO) AS ENVIADO_BANCO
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codalm = #{codalm,jdbcType=VARCHAR}
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		and DET.codconcepto_mov = '91'
		group by CAB.CODALM, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- IMPORTE INGRESADO EN BANCO -->
	<select id="consultarImporteIngresadoEnBanco"
		resultType="java.math.BigDecimal">
		SELECT SUM(CARGO) AS INGRESADO_BANCO
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codalm = #{codalm,jdbcType=VARCHAR}
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		and DET.codconcepto_mov = '92'
		group by CAB.CODALM, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- APORTACIONES -->
	<select id="consultarAportaciones"
		resultType="java.math.BigDecimal">
		SELECT SUM(CARGO) AS APORTACIONES
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codalm = #{codalm,jdbcType=VARCHAR}
		and CAB.codcaja not in (80, 90)
		AND CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		and DET.codconcepto_mov = '01'
		group by CAB.CODALM, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- DESAPORTACIONES -->
	<select id="consultarDesaportaciones"
		resultType="java.math.BigDecimal">
		SELECT SUM(CARGO) AS DESAPORTACIONES
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codalm = #{codalm,jdbcType=VARCHAR}
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		and DET.codconcepto_mov = '81'
		group by CAB.CODALM, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- CAMBIOS ENTRADA -->
	<select id="consultarCambiosEntrada"
		resultType="java.math.BigDecimal">
		SELECT SUM(ABONO) AS CAMBIOS_ENTRADA
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codalm = #{codalm,jdbcType=VARCHAR}
		AND CAB.codcaja = '80'
		AND DET.codconcepto_mov = '83'
		group by CAB.CODALM, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- CAMBIOS SALIDA -->
	<select id="consultarCambiosSalida"
		resultType="java.math.BigDecimal">
		SELECT SUM(CARGO) AS CAMBIOS_SALIDA
		FROM d_caja_det_tbl DET
		left join d_caja_cab_tbl CAB on
		(DET.uid_actividad = CAB.uid_actividad and DET.uid_diario_caja = CAB.uid_diario_caja )
		where
		DET.uid_actividad = #{uidActividad,jdbcType=VARCHAR}
		AND DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codalm = #{codalm,jdbcType=VARCHAR}
		AND CAB.codcaja = '80'
		AND DET.codconcepto_mov = '85'
		group by CAB.CODALM, CAB.codcaja, DATE(STR_TO_DATE(DET.FECHA, '%Y-%m-%d'));
	</select>

	<!-- ANTICIPOS PAGADOS -->
	<select id="consultarAnticiposPagados"
		resultType="java.math.BigDecimal">
		select sum(ANTI.IMPORTE) as ANTICIPOS_PAGADOS
		from d_clie_albaranes_cab_tbl
		CAB left join x_anticipos_tbl ANTI
		on(CAB.uid_actividad = ANTI.UID_ACTIVIDAD and CAB.id_clie_albaran = ANTI.ID_CLIE_ALBARAN )
		where CAB.UID_ACTIVIDAD = #{uidActividad,jdbcType=VARCHAR}
		and DATE(STR_TO_DATE(CAB.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		AND CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		and CAB.codalm =
		#{codalm,jdbcType=VARCHAR}
		and ANTI.IMPORTE is not NULL
		group by
		CAB.codcaja , CAB.CODALM, DATE(STR_TO_DATE(CAB.FECHA, '%Y-%m-%d'));
	</select>

	<!-- ANTICIPOS DESCONTADOS -->
	<select id="consultarAnticiposDescontados"
		resultType="java.math.BigDecimal">
		select sum(-ANTI.IMPORTE) as ANTICIPOS_DESCONTADOS
		from
		d_clie_albaranes_cab_tbl CAB
		left join x_anticipos_tbl ANTI
		on (CAB.uid_actividad = ANTI.UID_ACTIVIDAD
		and CAB.uid_ticket = ANTI.UID_TICKET)
		where CAB.UID_ACTIVIDAD =
		#{uidActividad,jdbcType=VARCHAR}
		and DATE(STR_TO_DATE(CAB.FECHA, '%Y-%m-%d')) = #{fecha,jdbcType=VARCHAR}
		and CAB.codcaja = #{codcaja,jdbcType=VARCHAR}
		and CAB.codalm = #{codalm,jdbcType=VARCHAR}
		and ANTI.IMPORTE is not null
		and CAB.total > 0
		group by CAB.codcaja, CAB.CODALM,
		DATE(STR_TO_DATE(CAB.FECHA, '%Y-%m-%d'));

	</select>
</mapper>